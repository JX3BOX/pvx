(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b6fd745"],{"190a":function(t,i,e){t.exports=e.p+"img/collect.20cfa10b.svg"},"4f28":function(t,i,e){},"60b8":function(t,i,e){"use strict";e("99af"),e("ac1f"),e("466d");var s=function(){var t,i=this,s=i._self._c;return s("div",{staticClass:"m-pvx-suspension",class:i.navStatusClass,on:{touchstart:i.handleTouchStart,touchend:i.handleTouchEnd,touchcancel:i.handleTouchCancel}},[s("div",{class:"m-pvx-suspension_box ".concat(i.navStatus?"open":"close"," ").concat("single"==i.isType?"single":"list"),style:{width:34*i.options.length+("single"==i.isType?100:66)+34*i.localList.length+"px",bottom:i.bottomNum},on:{click:i.toRight}},[i.navStatus?[s("div",{staticClass:"u-btn-box"},[s("div",{staticClass:"u-immobilization"},[s("div",{staticClass:"u-item",staticStyle:{transform:"scaleX(-1)"},on:{click:function(t){return t.stopPropagation(),i.toLeft.apply(null,arguments)}}},[i.isDarkModeStatus?s("svg",{class:"u-icon-dark",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M13.125 3L6.25 9.875l6.875 6.875",stroke:"#24292e","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}})]):s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M13.125 3L6.25 9.875l6.875 6.875",stroke:"#FEDAA3","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]),i._l(i.options,(function(t){return s("div",{key:t.label,staticClass:"u-item",on:{click:function(e){return e.stopPropagation(),i.itemClick(t)}}},[s("img",{staticClass:"u-icon",attrs:{src:t.isJudge&&i.isCollect?i.isDarkModeStatus?t.icon_active_dark:t.icon_active:i.isDarkModeStatus?t.icon_dark:t.icon,"svg-inline":""}})])}))],2),"single"==i.isType?s("div",{staticClass:"u-list"},i._l(i.localList,(function(t){var e,a;return s("div",{key:t.id,staticClass:"u-item",on:{click:function(e){return e.stopPropagation(),i.pinnedClick(t)}}},[i._v(" "+i._s((null===(e=t.title)||void 0===e||null===(a=e.match(/[\u4e00-\u9fa5]/))||void 0===a?void 0:a[0])||"-")+" ")])})),0):i._e()])]:s("div",{staticClass:"u-btn",on:{mouseenter:i.toRight}},[s("div",{staticClass:"u-btn-item"},[i.isDarkModeStatus?s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M13.125 3L6.25 9.875l6.875 6.875",stroke:"#24292e","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}})]):s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M13.125 3L6.25 9.875l6.875 6.875",stroke:"#FEDAA3","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}})])])])],2),s("el-dialog",{attrs:{visible:i.drawer,"append-to-body":"","custom-class":"p-drawer"},on:{"update:visible":function(t){i.drawer=t}}},[s("iframe",{attrs:{src:null===(t=i.iframeInfo)||void 0===t?void 0:t.url,frameborder:"0",width:"100%",height:"100%"}})]),s("el-drawer",{attrs:{visible:i.drawerLong,direction:"btt","custom-class":"p-drawer long",size:"100%","append-to-body":"","wrapper-closable":"","with-header":!1},on:{"update:visible":function(t){i.drawerLong=t}}},[s("div",{staticClass:"u-drawer-top"},[s("div",{staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"#24292E"}})]),s("div",{staticClass:"u-text"},[i._v("搜索")])]),s("div",{staticClass:"u-item",on:{click:function(t){return i.setCollect()}}},[s("img",{staticClass:"u-icon",attrs:{src:i.isCollect?e("9763"):e("7255"),"svg-inline":""}}),s("div",{staticClass:"u-text"},[i._v("加入收藏")])]),s("div",{staticClass:"u-item",on:{click:function(t){return i.setLater()}}},[s("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M15 4.5l-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4L20 9.5",stroke:"#24292E","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("div",{staticClass:"u-text"},[i._v("固定页面")])]),s("div",{staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M9.41 1.91a.833.833 0 011.18 0l2.5 2.5a.833.833 0 01-1.18 1.18l-1.077-1.078V12.5a.833.833 0 01-1.666 0V4.512L8.089 5.589a.833.833 0 01-1.178-1.178l2.5-2.5zM3.334 9.168A1.667 1.667 0 015 7.5h1.667a.833.833 0 010 1.667H5v7.5h10v-7.5h-1.667a.833.833 0 110-1.667H15a1.667 1.667 0 011.667 1.667v7.5A1.667 1.667 0 0115 18.333H5a1.667 1.667 0 01-1.667-1.666v-7.5z",fill:"#24292E"}})]),s("div",{staticClass:"u-text"},[i._v("分享内容")])])]),s("div",{staticClass:"u-drawer-top_dark"},[s("div",{staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"#FEDAA3"}})]),s("div",{staticClass:"u-text"},[i._v("搜索")])]),s("div",{staticClass:"u-item",on:{click:function(t){return i.setCollect()}}},[s("img",{staticClass:"u-icon",attrs:{src:i.isCollect?e("cb8f"):e("190a"),"svg-inline":""}}),s("div",{staticClass:"u-text"},[i._v("加入收藏")])]),s("div",{staticClass:"u-item",on:{click:function(t){return i.setLater()}}},[s("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M15 4.5l-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4L20 9.5",stroke:"#FEDAA3","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("div",{staticClass:"u-text"},[i._v("固定页面")])]),s("div",{staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M9.41 1.91a.833.833 0 011.18 0l2.5 2.5a.833.833 0 01-1.18 1.18l-1.077-1.078V12.5a.834.834 0 01-1.666 0V4.512L8.089 5.589a.833.833 0 01-1.178-1.178l2.5-2.5zM3.334 9.168A1.667 1.667 0 015 7.5h1.667a.833.833 0 110 1.667H5v7.5h10v-7.5h-1.667a.833.833 0 010-1.667H15a1.667 1.667 0 011.667 1.667v7.5A1.667 1.667 0 0115 18.333H5a1.667 1.667 0 01-1.667-1.666v-7.5z",fill:"#FEDAA3"}})]),s("div",{staticClass:"u-text"},[i._v("分享内容")])])]),s("div",{staticClass:"u-drawer-pack_up",on:{click:function(t){i.drawerLong=!1}}},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M2.5 10.018h11.429m0 0l-5.804 5.92m5.804-5.92L8.125 4.062M17.5 18.126V2.187",stroke:"#1C1C1C","stroke-opacity":".4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("svg",{class:"u-icon_dark",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M2.5 10.018h11.429m0 0l-5.804 5.92m5.804-5.92L8.125 4.062M17.5 18.126V2.187",stroke:"#fff","stroke-opacity":".4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("div",{staticClass:"u-text"},[i._v("收起悬浮窗")])]),i.localList.length?s("div",{staticClass:"u-pinned-list"},[i._l(i.localList,(function(t){return s("div",{key:t.id,staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M10 13.75v-7.5m0 0l3.75 3.667M10 6.25L6.25 9.917M6.5 2.5h7a4 4 0 014 4v7a4 4 0 01-4 4h-7a4 4 0 01-4-4v-7a4 4 0 014-4z",stroke:"#1C1C1C","stroke-opacity":".4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("svg",{class:"u-icon_dark",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M10 13.75v-7.5m0 0l3.75 3.667M10 6.25L6.25 9.917M6.5 2.5h7a4 4 0 014 4v7a4 4 0 01-4 4h-7a4 4 0 01-4-4v-7a4 4 0 014-4z",stroke:"#fff","stroke-opacity":".4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("div",{staticClass:"u-text"},[i._v(i._s(t.title))]),s("div",{staticClass:"u-btn",on:{click:function(e){return e.stopPropagation(),i.cancelPinned(t)}}},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M7.726 2.321c.107-.037.223-.03.335-.03h3.86c.118.001.24-.009.354.03a.626.626 0 01.4.803h3.545a.624.624 0 01.347 1.165c-.156.1-.347.088-.524.086V17.48a.627.627 0 01-.622.645H4.58a.632.632 0 01-.41-.155.637.637 0 01-.213-.49V4.375c-.124-.003-.252.012-.374-.022a.625.625 0 01.176-1.229h3.565a.626.626 0 01.401-.803zM5.209 16.874h9.582V4.375H5.209v12.499z",fill:"#1C1C1C","fill-opacity":".2"}}),s("path",{attrs:{d:"M8.187 6.892a.628.628 0 01.772.628v5.8a.627.627 0 01-.794.616.631.631 0 01-.457-.636V7.5a.628.628 0 01.48-.608zM11.546 6.886a.628.628 0 01.671.317.71.71 0 01.076.377v5.742a.63.63 0 01-.222.489.627.627 0 01-1.03-.49V7.5a.627.627 0 01.505-.613z",fill:"#1C1C1C","fill-opacity":".2"}})]),s("svg",{class:"u-icon_dark",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M7.726 2.321c.107-.037.223-.03.335-.03h3.86c.118.001.24-.009.354.03a.626.626 0 01.4.803h3.545a.624.624 0 01.347 1.165c-.156.1-.347.088-.524.086V17.48a.627.627 0 01-.622.645H4.58a.632.632 0 01-.41-.155.637.637 0 01-.213-.49V4.375c-.124-.003-.252.012-.374-.022a.625.625 0 01.176-1.229h3.565a.626.626 0 01.401-.803zM5.209 16.874h9.582V4.375H5.209v12.499z",fill:"#fff","fill-opacity":".2"}}),s("path",{attrs:{d:"M8.187 6.892a.628.628 0 01.772.628v5.8a.627.627 0 01-.794.616.631.631 0 01-.457-.636V7.5a.628.628 0 01.48-.608zM11.546 6.886a.628.628 0 01.671.317.71.71 0 01.076.377v5.742a.63.63 0 01-.222.489.627.627 0 01-1.03-.49V7.5a.627.627 0 01.505-.613z",fill:"#fff","fill-opacity":".2"}})])])])})),s("div",{staticClass:"u-item",on:{click:function(t){return t.stopPropagation(),i.cancelPinnedAll()}}},[s("svg",{class:"u-icon_delete",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M7.726 2.321c.107-.037.223-.03.335-.03h3.86c.118.001.24-.009.354.03a.626.626 0 01.4.803h3.545a.624.624 0 01.347 1.165c-.156.1-.347.088-.524.086V17.48a.627.627 0 01-.622.645H4.58a.632.632 0 01-.41-.155.637.637 0 01-.213-.49V4.375c-.124-.003-.252.012-.374-.022a.625.625 0 01.176-1.229h3.565a.626.626 0 01.401-.803zM5.209 16.874h9.582V4.375H5.209v12.499z",fill:"#FF3B30"}}),s("path",{attrs:{d:"M8.187 6.892a.628.628 0 01.772.628v5.8a.627.627 0 01-.794.616.631.631 0 01-.457-.636V7.5a.628.628 0 01.48-.608zM11.546 6.886a.628.628 0 01.671.317.71.71 0 01.076.377v5.742a.63.63 0 01-.222.489.627.627 0 01-1.03-.49V7.5a.627.627 0 01.505-.613z",fill:"#FF3B30"}})]),s("div",{staticClass:"u-text u-text_delete"},[i._v("清空所有固定内容")])])],2):i._e()])],1)},a=[],n=(e("c740"),e("a15b"),e("14d9"),e("a434"),e("e9f5"),e("a732"),e("e9c4"),e("a9e3"),e("b64b"),e("d3b7"),e("2ef0"),e("41cb"));function o(t,i,e){return Object(n["c"])().post("/api/article/favorites/add/".concat(t,"/").concat(i),{post_title:e})}function l(t,i){return Object(n["c"])().get("/api/article/favorites/is-my/".concat(t,"/").concat(i))}function r(t){return Object(n["c"])().delete("/api/article/favorites/my/".concat(t))}var c={name:"PvxSuspension",props:{isType:{type:String,default:"list"},type:{type:String,default:"face"},title:{type:String,default:""},id:{type:[String,Number],default:""},miniprogram:{type:Object,default:function(){return{}}},searchRouter:{type:String,default:""},bottomNum:{type:String,default:"50px"}},components:{},data:function(){return{navStatus:!1,options:[],isCollect:!1,collectInfo:null,localList:[],isPinned:!1,drawer:!1,iframeInfo:null,removeIframePinned:!1,longPress:!1,drawerLong:!1,localStorageKey:"pvx-view-history",isDarkModeStatus:!1}},computed:{navStatusClass:function(){var t="",i=this.navStatus;return t=i?"is-opened":"is-closed",t},miniprogramParams:function(){var t=[];for(var i in this.miniprogram)this.miniprogram.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+this.miniprogram[i]);return t.join("&")}},watch:{isType:{handler:function(t){if("single"===t){var i=[{label:"搜索",icon:e("9d53"),icon_dark:e("fd15"),value:1},{label:"稍后再看",icon:e("f14a"),icon_dark:e("9ddd"),value:2},{label:"收藏",icon:e("190a"),icon_active:e("cb8f"),icon_dark:e("7255"),icon_active_dark:e("9763"),value:3,isJudge:!0}];this.options=i}if("list"===t){var s=[{label:"搜索",icon:e("9d53"),icon_dark:e("fd15"),value:1}];this.options=s}},immediate:!0}},methods:{isDarkModeFun:function(){var t=window.matchMedia("(prefers-color-scheme: dark)");this.isDarkModeStatus=t.matches},handleTouchStart:function(t){var i=this;this.startTime=Date.now(),clearTimeout(this.longPressTimeout),this.longPressTimeout=setTimeout((function(){i.longPress=!0,i.handleLongPress(t)}),500)},handleTouchEnd:function(t){clearTimeout(this.longPressTimeout),this.longPress=!1},handleTouchCancel:function(t){clearTimeout(this.longPressTimeout),this.longPress=!1},handleLongPress:function(t){"list"!=this.isType&&(this.toLeft(),this.drawerLong=!0)},toLeft:function(){this.navStatus=!1},toRight:function(){this.navStatus=!0},itemClick:function(t){if(1==t.value)if(this.searchRouter)this.$router.push(this.searchRouter);else{var i=this.miniprogramParams;wx.miniProgram.navigateTo({url:"/pages/search/search-detail/search-detail?"+i})}2==t.value&&this.setLater(),3==t.value&&this.setCollect(),this.$emit("itemClick",t)},setLater:function(){var t=this,i=localStorage.getItem(this.localStorageKey);if(i){var e=JSON.parse(i),s=e.some((function(i){return i.id==t.id&&i.type==t.type}));if(!s){if(3==e.length)return void this.$message({message:"最多保存3个页面，可删除一个后再保存",type:"warning"});var a=window.location.href,n={url:a,title:this.title||document.title,time:(new Date).getTime(),id:this.id,type:this.type};e.push(n),localStorage.setItem(this.localStorageKey,JSON.stringify(e)),this.localList=e}}else{var o=[],l=window.location.href,r={url:l,title:this.title||document.title,time:(new Date).getTime(),id:this.id,type:this.type};o.push(r),localStorage.setItem(this.localStorageKey,JSON.stringify(o)),this.localList=o}},cancelPinned:function(t){var i=this,e=null,s=this.localList;e=t?s.findIndex((function(i){return i.id==t.id&&i.type==t.type})):s.findIndex((function(t){return t.id==i.iframeInfo.id&&t.type==i.iframeInfo.type})),-1!=e&&(s.splice(e,1),localStorage.setItem(this.localStorageKey,JSON.stringify(s)),this.localList=s,this.$message({message:"取消成功",type:"success"}),this.removeIframePinned=!0)},cancelPinnedAll:function(){localStorage.removeItem(this.localStorageKey),this.localList=[],this.$message({message:"清除成功",type:"success"})},pinnedClick:function(t){this.iframeInfo=t,this.drawer=!0,this.removeIframePinned=!1},setCollect:function(){var t=this;this.isCollect?r(this.collectInfo.id).then((function(i){t.getCollectStatus()})):o(this.id,this.type).then((function(i){t.getCollectStatus()}))},getCollectStatus:function(){var t=this;l(this.id,this.type).then((function(i){var e=i.data.data;t.collectInfo=e,t.isCollect=!!e.id}))}},mounted:function(){if(this.isDarkModeFun(),"list"!=this.isType){this.getCollectStatus();var t=localStorage.getItem(this.localStorageKey);if(t){var i=JSON.parse(t);this.localList=i}}}},d=c,u=(e("b9b2"),e("2877")),h=Object(u["a"])(d,s,a,!1,null,null,null);i["a"]=h.exports},7255:function(t,i,e){t.exports=e.p+"img/collect_dark.1161a556.svg"},9763:function(t,i,e){t.exports=e.p+"img/collect_active_dark.6a68f1a6.svg"},"9d53":function(t,i,e){t.exports=e.p+"img/search.91a4e498.svg"},"9ddd":function(t,i,e){t.exports=e.p+"img/pinned_dark.448c2391.svg"},a732:function(t,i,e){"use strict";var s=e("23e7"),a=e("2266"),n=e("59ed"),o=e("825a"),l=e("46c4");s({target:"Iterator",proto:!0,real:!0},{some:function(t){o(this),n(t);var i=l(this),e=0;return a(i,(function(i,s){if(t(i,e++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},b9b2:function(t,i,e){"use strict";e("4f28")},c740:function(t,i,e){"use strict";var s=e("23e7"),a=e("b727").findIndex,n=e("44d2"),o="findIndex",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),s({target:"Array",proto:!0,forced:l},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},cb8f:function(t,i,e){t.exports=e.p+"img/collect_active.9adde40a.svg"},f14a:function(t,i,e){t.exports=e.p+"img/pinned.558bdbc6.svg"},fd15:function(t,i,e){t.exports=e.p+"img/search_dark.885e3f24.svg"}}]);
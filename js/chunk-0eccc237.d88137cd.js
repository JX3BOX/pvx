(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eccc237","chunk-2312e1e4"],{"190a":function(t,i,e){t.exports=e.p+"img/collect.20cfa10b.svg"},"2b88":function(t,i,e){"use strict";e("99af"),e("b0c0");var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"w-pvx-user__miniprogram"},[t.isMiniProgram&&"奇遇"==t.name?i("div",{staticClass:"u-adventure-tips"},[t._v("← 左右滑动可以查看奇遇流程故事 →")]):t._e(),t.wiki_post&&t.wiki_post.post?i("div",{staticClass:"m-wiki-post-panel"},[i("WikiPanel",{attrs:{"wiki-post":t.wiki_post}},[i("template",{slot:"head-title"},[i("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[i("path",{attrs:{d:"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z"}})]),i("span",{staticClass:"u-txt"},[t._v(t._s(t.name)+"攻略")])]),i("template",{slot:"head-actions"},[i("a",{staticClass:"el-button el-button--primary",attrs:{href:t.publish_url("".concat(t.type,"/").concat(t.id))}},[i("i",{staticClass:"el-icon-edit"}),i("span",[t._v("完善"+t._s(t.name)+"攻略")])])]),i("template",{slot:"body"},[t.compatible?i("div",{staticClass:"m-wiki-compatible"},[i("i",{staticClass:"el-icon-warning-outline"}),t._v(" 暂无缘起攻略，以下为重制攻略，仅作参考，"),i("a",{staticClass:"s-link",attrs:{href:t.publish_url("".concat(t.type,"/").concat(t.id))}},[t._v("参与修订")]),t._v("。 ")]):t._e(),i("Article",{attrs:{content:t.wiki_post.post.content}}),t.wiki_post.post.content?i("div",{staticClass:"m-wiki-signature",on:{click:function(i){t.versionVisible=!0}}},[t._v(" 查看历史修订 ")]):t._e()],1)],2),t._t("serendipity"),i("el-dialog",{attrs:{"lock-scroll":!1,visible:t.versionVisible,"custom-class":"m-version-drawer"},on:{"update:visible":function(i){t.versionVisible=i}}},[i("div",{staticClass:"m-version-container"},t._l(t.versions,(function(e,s){return i("div",{key:s,staticClass:"u-version"},[i("div",{staticClass:"u-title-wrap"},[i("div",{staticClass:"u-title"},[t._v(t._s(e.version))]),i("div",{staticClass:"u-user"},[t._v(t._s(e.user_nickname))])]),i("div",{staticClass:"u-time"},[t._v(t._s(e.time))]),i("div",{staticClass:"u-content"},[t._v(t._s(e.remark))])])})),0)])],2):t._e(),t.wiki_post&&t.wiki_post.post||!t.id?t._e():i("div",{staticClass:"m-wiki-post-empty"},[i("i",{staticClass:"el-icon-s-opportunity"}),i("span",[t._v("暂无攻略，我要")]),i("a",{staticClass:"s-link",attrs:{href:t.publish_url("".concat(t.type,"/").concat(t.id))}},[t._v("完善攻略")])]),t.isFromSeasun?t._e():i("WikiComments",{attrs:{type:t.type,"source-id":String(t.id)}})],1)},a=[],n=e("5530"),o=(e("4de4"),e("d81d"),e("fb6a"),e("e9f5"),e("910d"),e("ab43"),e("d3b7"),e("9616")),l=e("500d"),r=e("a974"),c=e("662c"),u=e("d825"),d=e("85e4"),v={name:"PvxUser",components:{WikiPanel:c["a"],Article:r["a"],WikiComments:u["a"]},props:{id:{required:!0},name:{type:String,default:""},type:{type:String,required:!0},itemId:{type:String,default:""}},data:function(){return{wiki_post:{source:{},post:null},compatible:!1,is_empty:!0,versionVisible:!1,versions:[],isMiniProgram:Object(d["m"])()}},watch:{id:{immediate:!0,handler:function(){var t=this;console.log(this.$route.fullPath),this.post_id?this.loadRevision():this.loadData(),this.id&&l["a"].versions({type:this.type,id:this.id},{client:this.client}).then((function(i){var e;i=i.data;var s=null===(e=i.data)||void 0===e?void 0:e.length;t.versions=(i.data||[]).slice(0,5).map((function(t,i){return Object(n["a"])(Object(n["a"])({},t),{},{remark:t.remark,time:Object(d["t"])(t.updated),version:"V".concat(s-i)})}))}),(function(){t.versions=[]}))}},post_id:{handler:function(){this.loadRevision()}}},computed:{client:function(){return this.$store.state.client},post_id:function(){return this.itemId||this.$route.params.post_id},isRevision:function(){return this.itemId?!!this.itemId:!!this.$route.params.post_id},author_id:function(){var t,i;return~~(null===(t=this.wiki_post)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.user_id)},user_name:function(){var t,i;return null===(t=this.wiki_post)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.user_nickname},updated_at:function(){var t,i;return Object(d["t"])(null===(t=this.wiki_post)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.updated)},fav_title:function(){var t,i;return null===(t=this.wiki_post)||void 0===t||null===(i=t.source)||void 0===i?void 0:i.Name},authors:function(){var t,i,e;return this.isRevision?[]:(null===(t=this.wiki_post)||void 0===t||null===(i=t.users)||void 0===i||null===(e=i.filter((function(t){return t.id})))||void 0===e?void 0:e.map((function(t){return{user_id:t.id,user_avatar:t.avatar,display_name:t.nickname}})))||[]},isFromSeasun:function(){var t;return this.isMiniProgram&&(null===(t=this.$route.fullPath)||void 0===t?void 0:t.indexOf("_from=seasun"))>-1}},methods:{getLink:d["g"],loadData:function(){var t=this;this.id&&l["a"].mix({type:this.type,id:this.id,client:this.client}).then((function(i){var e=i.post,s=i.source,a=i.compatible,n=i.isEmpty,o=i.users;t.wiki_post={post:e,source:s,users:o},t.is_empty=n,t.compatible=a})),this.triggerStat()},loadRevision:function(){var t=this;l["a"].getById(this.post_id).then((function(i){var e;t.wiki_post=null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.data})),this.triggerStat()},publish_url:d["o"],triggerStat:function(){"origin"==this.client?Object(o["b"])("origin_".concat(type),this.id):Object(o["b"])(this.type,this.id)}}},p=v,h=(e("7740"),e("2877")),f=Object(h["a"])(p,s,a,!1,null,null,null);i["a"]=f.exports},3559:function(t,i,e){},4649:function(t){t.exports=JSON.parse('[{"source":"","name":"所有途径"},{"source":5,"name":"世界奇遇"},{"source":6,"name":"积分回馈"},{"source":7,"name":"秘境奇遇"},{"source":8,"name":"门派特有"},{"source":9,"name":"游戏活动"},{"source":10,"name":"限时宠物"},{"source":11,"name":"运营活动"}]')},"4aa9":function(t,i,e){"use strict";e("5d12")},"5d12":function(t,i,e){},"60b8":function(t,i,e){"use strict";e("99af"),e("ac1f"),e("466d");var s=function(){var t,i=this,s=i._self._c;return s("div",{staticClass:"m-pvx-suspension",class:i.navStatusClass,on:{touchstart:i.handleTouchStart,touchend:i.handleTouchEnd,touchcancel:i.handleTouchCancel}},[s("div",{class:"m-pvx-suspension_box ".concat(i.navStatus?"open":"close"," ").concat("single"==i.isType?"single":"list"),style:{width:1.6*i.options.length+("single"==i.isType?5:4.2)+(i.localList.length>0?1.6:0)+1.8*i.localList.length+"rem",bottom:i.bottomNum},on:{click:i.toRight}},[i.navStatus?[s("div",{staticClass:"u-btn-box"},[s("div",{staticClass:"u-immobilization",class:{noList:0==i.localList.length}},[s("div",{staticClass:"u-item",staticStyle:{transform:"scaleX(-1)"},on:{click:function(t){return t.stopPropagation(),i.toLeft.apply(null,arguments)}}},[i.isDarkModeStatus?s("svg",{class:"u-icon-dark",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M13.125 3L6.25 9.875l6.875 6.875",stroke:"#24292e","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}})]):s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M13.125 3L6.25 9.875l6.875 6.875",stroke:"#FEDAA3","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]),i._l(i.options,(function(t){return s("div",{key:t.label,staticClass:"u-item",on:{click:function(e){return e.stopPropagation(),i.itemClick(t)}}},[s("img",{staticClass:"u-icon",attrs:{src:t.isJudge&&i.isCollect?i.isDarkModeStatus?t.icon_active_dark:t.icon_active:i.isDarkModeStatus?t.icon_dark:t.icon,"svg-inline":""}})])}))],2),"single"==i.isType?s("div",{staticClass:"u-list"},i._l(i.localList,(function(t){var e,a;return s("div",{key:t.id,staticClass:"u-item",on:{click:function(e){return e.stopPropagation(),i.pinnedClick(t)}}},[i._v(" "+i._s((null===(e=t.title)||void 0===e||null===(a=e.match(/[\u4e00-\u9fa5]/))||void 0===a?void 0:a[0])||"-")+" ")])})),0):i._e()])]:s("div",{staticClass:"u-btn",on:{mouseenter:i.toRight}},[s("div",{staticClass:"u-btn-item"},[i.isDarkModeStatus?s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M13.125 3L6.25 9.875l6.875 6.875",stroke:"#24292e","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}})]):s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M13.125 3L6.25 9.875l6.875 6.875",stroke:"#FEDAA3","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}})])])])],2),s("el-dialog",{attrs:{visible:i.drawer,"append-to-body":"","custom-class":"p-drawer"},on:{"update:visible":function(t){i.drawer=t}}},[s("iframe",{attrs:{src:null===(t=i.iframeInfo)||void 0===t?void 0:t.url,frameborder:"0",width:"100%",height:"100%"}})]),s("el-drawer",{attrs:{visible:i.drawerLong,direction:"btt","custom-class":"p-drawer long",size:"100%","append-to-body":"","wrapper-closable":"","with-header":!1},on:{"update:visible":function(t){i.drawerLong=t}}},[s("div",{staticClass:"u-drawer-top"},[s("div",{staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"#24292E"}})]),s("div",{staticClass:"u-text"},[i._v("搜索")])]),s("div",{staticClass:"u-item",on:{click:function(t){return i.setCollect()}}},[s("img",{staticClass:"u-icon",attrs:{src:i.isCollect?e("9763"):e("7255"),"svg-inline":""}}),s("div",{staticClass:"u-text"},[i._v("加入收藏")])]),s("div",{staticClass:"u-item",on:{click:function(t){return i.setLater()}}},[s("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M15 4.5l-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4L20 9.5",stroke:"#24292E","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("div",{staticClass:"u-text"},[i._v("固定页面")])]),s("div",{staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M9.41 1.91a.833.833 0 011.18 0l2.5 2.5a.833.833 0 01-1.18 1.18l-1.077-1.078V12.5a.833.833 0 01-1.666 0V4.512L8.089 5.589a.833.833 0 01-1.178-1.178l2.5-2.5zM3.334 9.168A1.667 1.667 0 015 7.5h1.667a.833.833 0 010 1.667H5v7.5h10v-7.5h-1.667a.833.833 0 110-1.667H15a1.667 1.667 0 011.667 1.667v7.5A1.667 1.667 0 0115 18.333H5a1.667 1.667 0 01-1.667-1.666v-7.5z",fill:"#24292E"}})]),s("div",{staticClass:"u-text"},[i._v("分享内容")])])]),s("div",{staticClass:"u-drawer-top_dark"},[s("div",{staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"#FEDAA3"}})]),s("div",{staticClass:"u-text"},[i._v("搜索")])]),s("div",{staticClass:"u-item",on:{click:function(t){return i.setCollect()}}},[s("img",{staticClass:"u-icon",attrs:{src:i.isCollect?e("cb8f"):e("190a"),"svg-inline":""}}),s("div",{staticClass:"u-text"},[i._v("加入收藏")])]),s("div",{staticClass:"u-item",on:{click:function(t){return i.setLater()}}},[s("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M15 4.5l-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4L20 9.5",stroke:"#FEDAA3","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("div",{staticClass:"u-text"},[i._v("固定页面")])]),s("div",{staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M9.41 1.91a.833.833 0 011.18 0l2.5 2.5a.833.833 0 01-1.18 1.18l-1.077-1.078V12.5a.834.834 0 01-1.666 0V4.512L8.089 5.589a.833.833 0 01-1.178-1.178l2.5-2.5zM3.334 9.168A1.667 1.667 0 015 7.5h1.667a.833.833 0 110 1.667H5v7.5h10v-7.5h-1.667a.833.833 0 010-1.667H15a1.667 1.667 0 011.667 1.667v7.5A1.667 1.667 0 0115 18.333H5a1.667 1.667 0 01-1.667-1.666v-7.5z",fill:"#FEDAA3"}})]),s("div",{staticClass:"u-text"},[i._v("分享内容")])])]),s("div",{staticClass:"u-drawer-pack_up",on:{click:function(t){i.drawerLong=!1}}},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M2.5 10.018h11.429m0 0l-5.804 5.92m5.804-5.92L8.125 4.062M17.5 18.126V2.187",stroke:"#1C1C1C","stroke-opacity":".4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("svg",{class:"u-icon_dark",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M2.5 10.018h11.429m0 0l-5.804 5.92m5.804-5.92L8.125 4.062M17.5 18.126V2.187",stroke:"#fff","stroke-opacity":".4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("div",{staticClass:"u-text"},[i._v("收起悬浮窗")])]),i.localList.length?s("div",{staticClass:"u-pinned-list"},[i._l(i.localList,(function(t){return s("div",{key:t.id,staticClass:"u-item"},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M10 13.75v-7.5m0 0l3.75 3.667M10 6.25L6.25 9.917M6.5 2.5h7a4 4 0 014 4v7a4 4 0 01-4 4h-7a4 4 0 01-4-4v-7a4 4 0 014-4z",stroke:"#1C1C1C","stroke-opacity":".4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("svg",{class:"u-icon_dark",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M10 13.75v-7.5m0 0l3.75 3.667M10 6.25L6.25 9.917M6.5 2.5h7a4 4 0 014 4v7a4 4 0 01-4 4h-7a4 4 0 01-4-4v-7a4 4 0 014-4z",stroke:"#fff","stroke-opacity":".4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("div",{staticClass:"u-text"},[i._v(i._s(t.title))]),s("div",{staticClass:"u-btn",on:{click:function(e){return e.stopPropagation(),i.cancelPinned(t)}}},[s("svg",{class:"u-icon",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M7.726 2.321c.107-.037.223-.03.335-.03h3.86c.118.001.24-.009.354.03a.626.626 0 01.4.803h3.545a.624.624 0 01.347 1.165c-.156.1-.347.088-.524.086V17.48a.627.627 0 01-.622.645H4.58a.632.632 0 01-.41-.155.637.637 0 01-.213-.49V4.375c-.124-.003-.252.012-.374-.022a.625.625 0 01.176-1.229h3.565a.626.626 0 01.401-.803zM5.209 16.874h9.582V4.375H5.209v12.499z",fill:"#1C1C1C","fill-opacity":".2"}}),s("path",{attrs:{d:"M8.187 6.892a.628.628 0 01.772.628v5.8a.627.627 0 01-.794.616.631.631 0 01-.457-.636V7.5a.628.628 0 01.48-.608zM11.546 6.886a.628.628 0 01.671.317.71.71 0 01.076.377v5.742a.63.63 0 01-.222.489.627.627 0 01-1.03-.49V7.5a.627.627 0 01.505-.613z",fill:"#1C1C1C","fill-opacity":".2"}})]),s("svg",{class:"u-icon_dark",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M7.726 2.321c.107-.037.223-.03.335-.03h3.86c.118.001.24-.009.354.03a.626.626 0 01.4.803h3.545a.624.624 0 01.347 1.165c-.156.1-.347.088-.524.086V17.48a.627.627 0 01-.622.645H4.58a.632.632 0 01-.41-.155.637.637 0 01-.213-.49V4.375c-.124-.003-.252.012-.374-.022a.625.625 0 01.176-1.229h3.565a.626.626 0 01.401-.803zM5.209 16.874h9.582V4.375H5.209v12.499z",fill:"#fff","fill-opacity":".2"}}),s("path",{attrs:{d:"M8.187 6.892a.628.628 0 01.772.628v5.8a.627.627 0 01-.794.616.631.631 0 01-.457-.636V7.5a.628.628 0 01.48-.608zM11.546 6.886a.628.628 0 01.671.317.71.71 0 01.076.377v5.742a.63.63 0 01-.222.489.627.627 0 01-1.03-.49V7.5a.627.627 0 01.505-.613z",fill:"#fff","fill-opacity":".2"}})])])])})),s("div",{staticClass:"u-item",on:{click:function(t){return t.stopPropagation(),i.cancelPinnedAll()}}},[s("svg",{class:"u-icon_delete",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M7.726 2.321c.107-.037.223-.03.335-.03h3.86c.118.001.24-.009.354.03a.626.626 0 01.4.803h3.545a.624.624 0 01.347 1.165c-.156.1-.347.088-.524.086V17.48a.627.627 0 01-.622.645H4.58a.632.632 0 01-.41-.155.637.637 0 01-.213-.49V4.375c-.124-.003-.252.012-.374-.022a.625.625 0 01.176-1.229h3.565a.626.626 0 01.401-.803zM5.209 16.874h9.582V4.375H5.209v12.499z",fill:"#FF3B30"}}),s("path",{attrs:{d:"M8.187 6.892a.628.628 0 01.772.628v5.8a.627.627 0 01-.794.616.631.631 0 01-.457-.636V7.5a.628.628 0 01.48-.608zM11.546 6.886a.628.628 0 01.671.317.71.71 0 01.076.377v5.742a.63.63 0 01-.222.489.627.627 0 01-1.03-.49V7.5a.627.627 0 01.505-.613z",fill:"#FF3B30"}})]),s("div",{staticClass:"u-text u-text_delete"},[i._v("清空所有固定内容")])])],2):i._e()])],1)},a=[],n=(e("c740"),e("a15b"),e("14d9"),e("a434"),e("e9f5"),e("a732"),e("e9c4"),e("a9e3"),e("b64b"),e("d3b7"),e("2ef0"),e("41cb"));function o(t,i,e){return Object(n["c"])().post("/api/article/favorites/add/".concat(t,"/").concat(i),{post_title:e})}function l(t,i){return Object(n["c"])().get("/api/article/favorites/is-my/".concat(t,"/").concat(i))}function r(t){return Object(n["c"])().delete("/api/article/favorites/my/".concat(t))}var c={name:"PvxSuspension",props:{isType:{type:String,default:"list"},type:{type:String,default:"face"},title:{type:String,default:""},id:{type:[String,Number],default:""},miniprogram:{type:Object,default:function(){return{}}},searchRouter:{type:String,default:""},bottomNum:{type:String,default:"50px"}},components:{},data:function(){return{navStatus:!1,options:[],isCollect:!1,collectInfo:null,localList:[],isPinned:!1,drawer:!1,iframeInfo:null,removeIframePinned:!1,longPress:!1,drawerLong:!1,localStorageKey:"pvx-view-history",isDarkModeStatus:!1}},computed:{navStatusClass:function(){var t="",i=this.navStatus;return t=i?"is-opened":"is-closed",t},miniprogramParams:function(){var t=[];for(var i in this.miniprogram)this.miniprogram.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+this.miniprogram[i]);return t.join("&")}},watch:{isType:{handler:function(t){if("single"===t){var i=[{label:"搜索",icon:e("9d53"),icon_dark:e("fd15"),value:1},{label:"稍后再看",icon:e("f14a"),icon_dark:e("9ddd"),value:2},{label:"收藏",icon:e("190a"),icon_active:e("cb8f"),icon_dark:e("7255"),icon_active_dark:e("9763"),value:3,isJudge:!0}];this.options=i}if("list"===t){var s=[{label:"搜索",icon:e("9d53"),icon_dark:e("fd15"),value:1}];this.options=s}},immediate:!0}},methods:{isDarkModeFun:function(){var t=window.matchMedia("(prefers-color-scheme: dark)");this.isDarkModeStatus=t.matches},handleTouchStart:function(t){var i=this;this.startTime=Date.now(),clearTimeout(this.longPressTimeout),this.longPressTimeout=setTimeout((function(){i.longPress=!0,i.handleLongPress(t)}),500)},handleTouchEnd:function(t){clearTimeout(this.longPressTimeout),this.longPress=!1},handleTouchCancel:function(t){clearTimeout(this.longPressTimeout),this.longPress=!1},handleLongPress:function(t){"list"!=this.isType&&(this.toLeft(),this.drawerLong=!0)},toLeft:function(){this.navStatus=!1},toRight:function(){this.navStatus=!0},itemClick:function(t){if(1==t.value)if(this.searchRouter)this.$router.push(this.searchRouter);else{var i=this.miniprogramParams;wx.miniProgram.navigateTo({url:"/pages/search/search-detail/search-detail?"+i})}2==t.value&&this.setLater(),3==t.value&&this.setCollect(),this.$emit("itemClick",t)},setLater:function(){var t=this,i=localStorage.getItem(this.localStorageKey);if(i){var e=JSON.parse(i),s=e.some((function(i){return i.id==t.id&&i.type==t.type}));if(!s){if(3==e.length)return void this.$message({message:"最多保存3个页面，可删除一个后再保存",type:"warning"});var a=window.location.href,n={url:a,title:this.title||document.title,time:(new Date).getTime(),id:this.id,type:this.type};e.push(n),localStorage.setItem(this.localStorageKey,JSON.stringify(e)),this.localList=e}}else{var o=[],l=window.location.href,r={url:l,title:this.title||document.title,time:(new Date).getTime(),id:this.id,type:this.type};o.push(r),localStorage.setItem(this.localStorageKey,JSON.stringify(o)),this.localList=o}},cancelPinned:function(t){var i=this,e=null,s=this.localList;e=t?s.findIndex((function(i){return i.id==t.id&&i.type==t.type})):s.findIndex((function(t){return t.id==i.iframeInfo.id&&t.type==i.iframeInfo.type})),-1!=e&&(s.splice(e,1),localStorage.setItem(this.localStorageKey,JSON.stringify(s)),this.localList=s,this.$message({message:"取消成功",type:"success"}),this.removeIframePinned=!0)},cancelPinnedAll:function(){localStorage.removeItem(this.localStorageKey),this.localList=[],this.$message({message:"清除成功",type:"success"})},pinnedClick:function(t){this.iframeInfo=t,this.drawer=!0,this.removeIframePinned=!1},setCollect:function(){var t=this;this.isCollect?r(this.collectInfo.id).then((function(i){t.getCollectStatus()})):o(this.id,this.type).then((function(i){t.getCollectStatus()}))},getCollectStatus:function(){var t=this;l(this.id,this.type).then((function(i){var e=i.data.data;t.collectInfo=e,t.isCollect=!!e.id}))}},mounted:function(){if(this.isDarkModeFun(),"list"!=this.isType){this.getCollectStatus();var t=localStorage.getItem(this.localStorageKey);if(t){var i=JSON.parse(t);this.localList=i}}}},u=c,d=(e("4aa9"),e("2877")),v=Object(d["a"])(u,s,a,!1,null,null,null);i["a"]=v.exports},"60f8":function(t){t.exports=JSON.parse('[{"class":"","type":0,"name":"所有种类"},{"class":1,"type":1,"name":"水族"},{"class":2,"type":2,"name":"禽鸟"},{"class":3,"type":3,"name":"走兽"},{"class":4,"type":4,"name":"机关"}]')},7255:function(t,i,e){t.exports=e.p+"img/collect_dark.1161a556.svg"},7740:function(t,i,e){"use strict";e("fd1b")},9763:function(t,i,e){t.exports=e.p+"img/collect_active_dark.6a68f1a6.svg"},"9b7f":function(t,i,e){"use strict";e.d(i,"d",(function(){return r})),e.d(i,"b",(function(){return c})),e.d(i,"e",(function(){return u})),e.d(i,"c",(function(){return d})),e.d(i,"f",(function(){return v})),e.d(i,"g",(function(){return p})),e.d(i,"a",(function(){return h}));var s=e("41cb"),a=e("65c2"),n=e("bc3a"),o=e.n(n),l=Object(s["d"])();function r(t){return l.get("/pets",{params:t})}function c(t,i){return l.get("/pet/".concat(t),{params:i})}function u(t){var i=t.item_type,e=t.item_id,s=t.client,a=void 0===s?"std":s;return l.get("/shop",{params:{client:a,itemType:i,itemId:e}})}function d(t){return o.a.get(a["__dataPath"]+"pvx/pet/output/pet_".concat(t,"_lucky.json"))}function v(t){return l.get("/skills",{params:t})}function p(t,i,e){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,n={client:i,type:t,source_type:"pet",source_ids:e};return a&&(n.per=a),Object(s["a"])({mute:!0}).get("/api/cms/news/v2",{params:n})}function h(){return o.a.get(a["__imgPath"]+"map/data/map_index.json")}},"9d53":function(t,i,e){t.exports=e.p+"img/search.91a4e498.svg"},"9ddd":function(t,i,e){t.exports=e.p+"img/pinned_dark.448c2391.svg"},a732:function(t,i,e){"use strict";var s=e("23e7"),a=e("c65b"),n=e("2266"),o=e("59ed"),l=e("825a"),r=e("46c4"),c=e("2a62"),u=e("f99f"),d=u("some",TypeError);s({target:"Iterator",proto:!0,real:!0,forced:d},{some:function(t){l(this);try{o(t)}catch(s){c(this,"throw",s)}if(d)return a(d,this,t);var i=r(this),e=0;return n(i,(function(i,s){if(t(i,e++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},c740:function(t,i,e){"use strict";var s=e("23e7"),a=e("b727").findIndex,n=e("44d2"),o="findIndex",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),s({target:"Array",proto:!0,forced:l},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},cb8f:function(t,i,e){t.exports=e.p+"img/collect_active.9adde40a.svg"},cd04:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"m-pet-mobile_single"},[i("PvxSuspension",{attrs:{isType:"single",type:"pet",id:t.id,title:t.pet.Name,searchRouter:"/search"}}),i("div",{staticClass:"m-pet-card m-top"},[i("div",{staticClass:"u-icon-name"},[i("div",{staticClass:"u-icon"},[i("el-image",{attrs:{src:t.iconLink(t.pet.IconID,t.client),fit:"fit"}})],1),i("div",{staticClass:"u-name"},[t._v(" "+t._s(t.pet.Name)+" "),i("div",{staticClass:"u-rate"},t._l(t.pet.Star,(function(t){return i("svg",{key:t,class:"u-star",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[i("g",[i("mask",{attrs:{id:"a",fill:"#fff"}},[i("use",{attrs:{"xlink:href":"#path_0"}})]),i("g",{attrs:{mask:"url(#a)"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M4.577 2.704C5.21 1.568 5.527 1 6 1c.473 0 .79.568 1.423 1.704l.165.294c.18.323.27.484.41.591.14.107.314.146.664.225l.318.072c1.23.279 1.845.417 1.992.888.146.47-.274.96-1.112 1.941l-.217.253c-.238.279-.357.418-.411.59-.053.173-.035.359 0 .73l.034.339c.126 1.308.19 1.962-.194 2.253-.382.291-.958.025-2.11-.505l-.298-.136c-.327-.152-.49-.227-.664-.227-.173 0-.337.075-.665.226l-.297.138c-1.152.53-1.728.795-2.11.505-.383-.292-.32-.946-.193-2.254l.033-.338c.036-.372.054-.558 0-.73-.053-.173-.173-.312-.411-.59l-.217-.254c-.839-.98-1.258-1.47-1.112-1.941.147-.47.762-.61 1.992-.888l.318-.072c.35-.079.524-.119.665-.225.14-.107.23-.268.41-.591l.163-.294z",fill:"#ffa811"}})])]),i("defs",[i("path",{attrs:{id:"path_0",d:"M0 0h12v12H0z"}})])])})),0)])]),i("div",{staticClass:"u-info-box"},[i("div",{staticClass:"u-content"},[i("div",{staticClass:"u-label"},[t._v("编号")]),i("div",{staticClass:"u-text"},[t._v(t._s(t.pet.Index))])]),i("div",{staticClass:"u-content"},[i("div",{staticClass:"u-label"},[t._v("分数")]),i("div",{staticClass:"u-text"},[t._v(t._s(t.pet.Score))])]),i("div",{staticClass:"u-content"},[i("div",{staticClass:"u-label"},[t._v("分类")]),i("div",{staticClass:"u-text"},[t._v(t._s(t.getPetType(t.pet.Class)))])]),i("div",{staticClass:"u-content"},[i("div",{staticClass:"u-label"},[t._v("获取方式")]),i("div",{staticClass:"u-text"},[t._v(t._s(t.getPetSource(t.pet.Source)))])]),i("div",{staticClass:"u-content w-100"},[i("div",{staticClass:"u-label"},[t._v("获取线索")]),i("div",{staticClass:"u-text"},[t._l(t.getPetDesc(t.pet.OutputDes),(function(e){return[i("span",{key:e.text},[t._v(t._s(t.cleanResourceText(e.text)))])]}))],2)]),i("div",{staticClass:"u-content w-100"},[i("div",{staticClass:"u-label"},[t._v("宠物说明")]),i("div",{staticClass:"u-text"},[t._l(t.getPetDesc(t.pet.Desc),(function(e,s){return[i("span",{key:s,domProps:{innerHTML:t._s(e.text)}})]}))],2)]),i("div",{staticClass:"u-content w-100 u-pet-skill"},[i("div",{staticClass:"u-label"},[t._v("宠物招式")]),i("div",{staticClass:"u-skill-list"},t._l(t.petSkills,(function(e,s){return i("div",{key:s,staticClass:"u-skill"},[i("el-popover",{attrs:{trigger:"hover","popper-class":"m-pet-skill","visible-arrow":!1,placement:"top"}},[i("div",{staticClass:"u-skill-pop"},[i("div",{staticClass:"u-skill-name"},[t._v(t._s(e.Name))]),i("div",{staticClass:"u-skill-desc"},[t._v(t._s(e.Desc))])]),i("img",{staticClass:"u-skill-icon",attrs:{slot:"reference",src:t.iconLink(e.IconID),alt:e.Name},slot:"reference"})])],1)})),0)])])]),i("PvxUserMiniprogram",{attrs:{id:t.item_id,name:"宠物",type:"item"}})],1)},a=[],n=(e("4de4"),e("7db0"),e("a15b"),e("14d9"),e("fb6a"),e("b0c0"),e("e9f5"),e("910d"),e("f665"),e("d3b7"),e("4d63"),e("c607"),e("ac1f"),e("2c3e"),e("25f0"),e("5319"),e("2ca0"),e("9b7f")),o=e("60f8"),l=e("4649"),r=e("85e4"),c=e("2b88"),u=e("60b8"),d={name:"PetMobileSingle",components:{PvxSuspension:u["a"],PvxUserMiniprogram:c["a"]},data:function(){return{type:"pet",pet:"",petSkills:[],shopInfo:"",luckyList:[],medalList:[],mapDisplay:!1,loading:!1,search:""}},computed:{id:function(){return this.$route.params.id},item_id:function(){var t,i;return(null===(t=this.pet)||void 0===t?void 0:t.ItemTabType)+"_"+(null===(i=this.pet)||void 0===i?void 0:i.ItemTabIndex)},client:function(){return this.$store.state.client},title:function(){var t;return null===(t=this.pet)||void 0===t?void 0:t.Name},params:function(){return{client:this.client}}},watch:{},created:function(){this.getPetInfo()},mounted:function(){},methods:{getPetInfo:function(){var t=this;this.loading=!0,Object(n["b"])(this.id,this.params).then((function(i){t.pet=i.data,t.medalList=i.data.medal_list,t.loadPetSkills(i.data.__skills),t.getShopInfo()})).finally((function(){t.loading=!1}))},getShopInfo:function(){var t=this,i={item_type:this.pet.ItemTabType,item_id:this.pet.ItemTabIndex};Object(n["e"])(i).then((function(i){t.shopInfo=(null===i||void 0===i?void 0:i.data)||""}))},loadPetSkills:function(t){var i=this,e=[],s=[];for(var a in this.petSkills=[],t)a.startsWith("Level")&&t[a]&&e.push(t[a]),a.startsWith("SkillID")&&t[a]&&s.push(t[a]);Object(n["f"])({ids:s.join(","),client:this.client}).then((function(t){e.forEach((function(e,a){var n=t.data.filter((function(t){return t.Level===e})),o=n.find((function(t){return t.SkillID===s[a]}));o&&i.petSkills.push(o)}))}))},getPetType:function(t){var i=o.find((function(i){return i.class===t}));return(null===i||void 0===i?void 0:i.name)||""},getPetSource:function(t){var i=l.find((function(i){return~~t===~~i.source}));return(null===i||void 0===i?void 0:i.name)||""},getPetDesc:function(t){var i,e=new RegExp("<text>text=([^]*?)font=(\\d+)[^]*?<\\/text>","gimy"),s=[];while(i=e.exec(t))s.push(i);for(var a=[],n=0,o=s;n<o.length;n++){var l=o[n];a.push({font:~~l[2],text:l[1].slice(1,-2).replace(/[\\n]/g,"")})}return a},iconLink:r["l"],cleanResourceText:function(t){return t&&t.startsWith("获取线索：")?t.replace("获取线索：",""):t}}},v=d,p=(e("d868"),e("2877")),h=Object(p["a"])(v,s,a,!1,null,null,null);i["default"]=h.exports},d868:function(t,i,e){"use strict";e("3559")},f14a:function(t,i,e){t.exports=e.p+"img/pinned.558bdbc6.svg"},fd15:function(t,i,e){t.exports=e.p+"img/search_dark.885e3f24.svg"},fd1b:function(t,i,e){}}]);
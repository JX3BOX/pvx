(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-158d7e9b"],{"01ea":function(t,e,n){"use strict";n.r(e),n.d(e,"__imgPath",(function(){return a})),n.d(e,"__dataPath",(function(){return o})),n.d(e,"__iconPath",(function(){return c})),n.d(e,"__cms",(function(){return l})),n.d(e,"__down",(function(){return u})),n.d(e,"__node",(function(){return d})),n.d(e,"__ossMirror",(function(){return _})),n.d(e,"__ossRoot",(function(){return f})),n.d(e,"__visibleMap",(function(){return p})),n.d(e,"default_avatar",(function(){return v})),n.d(e,"__Root",(function(){return h})),n.d(e,"__OriginRoot",(function(){return m})),n.d(e,"__Github",(function(){return b})),n.d(e,"__Preview",(function(){return g})),n.d(e,"__server",(function(){return w})),n.d(e,"__sso",(function(){return y})),n.d(e,"__spider",(function(){return C})),n.d(e,"__spider2",(function(){return k})),n.d(e,"__next",(function(){return x})),n.d(e,"__pay",(function(){return L})),n.d(e,"__team",(function(){return O})),n.d(e,"__lua",(function(){return P})),n.d(e,"__dbm",(function(){return j})),n.d(e,"__helperUrl",(function(){return M})),n.d(e,"__os",(function(){return T})),n.d(e,"__jx3",(function(){return I})),n.d(e,"__cdn",(function(){return D})),n.d(e,"__staticPath",(function(){return A})),n.d(e,"__clients",(function(){return F})),n.d(e,"__postType",(function(){return R})),n.d(e,"__wikiType",(function(){return S})),n.d(e,"__appType",(function(){return z})),n.d(e,"__gameType",(function(){return N})),n.d(e,"__sourceType",(function(){return B})),n.d(e,"__userGroup",(function(){return G})),n.d(e,"__userLevel",(function(){return E})),n.d(e,"__userLevelColor",(function(){return $})),n.d(e,"__Links",(function(){return H})),n.d(e,"feedback",(function(){return J}));var i=n("5530"),r=n("65c2"),s=Object(i["a"])(Object(i["a"])({},r),{},{__dataPath:"https://data.jx3box.com/",__imgPath:"https://img.jx3box.com/",__iconPath:"https://icon.jx3box.com/"}),a=s.__imgPath,o=s.__dataPath,c=s.__iconPath,l=s.__cms,u=s.__down,d=s.__node,_=s.__ossMirror,f=s.__ossRoot,p=s.__visibleMap,v=s.default_avatar,h=s.__Root,m=s.__OriginRoot,b=s.__Github,g=s.__Preview,w=s.__server,y=s.__sso,C=s.__spider,k=s.__spider2,x=s.__next,L=s.__pay,O=s.__team,P=s.__lua,j=s.__dbm,M=s.__helperUrl,T=s.__os,I=s.__jx3,D=s.__cdn,A=s.__staticPath,F=s.__clients,R=s.__postType,S=s.__wikiType,z=s.__appType,N=s.__gameType,B=s.__sourceType,G=s.__userGroup,E=s.__userLevel,$=s.__userLevelColor,H=s.__Links,J=s.feedback;e["default"]=s},"233f":function(t,e,n){"use strict";n("82646")},4238:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var i=n("41cb"),r=Object(i["d"])();function s(t){return r.get("/reputation/menus",{params:t})}function a(t){return r.get("/reputations",{params:t})}function o(t){return r.get("/reputation",{params:t})}},"498a":function(t,e,n){"use strict";var i=n("23e7"),r=n("58a8").trim,s=n("c8d2");i({target:"String",proto:!0,forced:s("trim")},{trim:function(){return r(this)}})},5605:function(t,e,n){"use strict";n.r(e);n("ac1f"),n("5319"),n("841c");var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"reputation-container"},[t.isMiniProgram?e("SuspendCommon",{attrs:{btnOptions:{showHome:!0},drawerOptions:{hideType:["collect","rss","laterOn","pin","user","report"]}},on:{search:t.search},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"m-suspend-btn"},[e("div",{staticClass:"u-btn-item line",on:{click:function(e){t.showForm=!0}}},[e("svg",{staticClass:"icon",class:"u-icon",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M599.277 144h1.997a52.507 52.507 0 0137.148 15.398 52.589 52.589 0 010 74.346 52.518 52.518 0 01-37.148 15.398c-68.039 0-119.053 0-159.559 3.261-40.614 3.258-64.624 9.408-80.806 18.032a194.464 194.464 0 00-82.487 86.848c-8.982 18.608-14.71 42.371-17.756 81.38-2.733 34.591-3.047 77.596-3.152 135.635l36.41-36.381a52.547 52.547 0 0137.151-15.415 52.554 52.554 0 0152.567 52.564 52.595 52.595 0 01-15.376 37.187L242.173 738.426a52.56 52.56 0 01-38.496 15.424 52.566 52.566 0 01-37.687-17.319L51.984 610.361a52.58 52.58 0 01-13.52-37.897 52.618 52.618 0 0117.222-36.358 52.512 52.512 0 0174.212 3.705l22.592 25.024c.05-53.52.524-97.574 3.414-134.32 3.52-45.158 10.822-83.696 28.003-119.126a299.574 299.574 0 01127.456-133.69c35.203-18.873 76.5-26.445 121.997-30.07C478.544 144 533.76 144 599.277 144zM818.73 270.173a52.512 52.512 0 0137.619 17.347l114.06 126.173a52.618 52.618 0 0110.369 58.973 52.544 52.544 0 01-51.536 30.432 52.528 52.528 0 01-36.695-18.96l-22.592-24.973c-.105 53.52-.576 97.574-3.465 134.32-3.524 45.158-10.826 83.696-28.004 119.126a299.571 299.571 0 01-127.459 133.69c-35.2 18.822-76.496 26.445-121.997 30.07C543.85 880 488.685 880 423.168 880h-2.102a52.52 52.52 0 01-37.15-15.398 52.586 52.586 0 010-74.346 52.522 52.522 0 0137.15-15.398c68.09 0 119.104 0 159.612-3.261 40.612-3.258 64.621-9.408 80.804-18.032a194.451 194.451 0 0082.486-86.848c8.986-18.608 14.71-42.371 17.757-81.38 2.733-34.591 3.1-77.596 3.155-135.635l-36.41 36.381a52.528 52.528 0 01-73.65-.64 52.586 52.586 0 01-.64-73.696l126.092-126.173a52.55 52.55 0 0138.458-15.401z",fill:"#D9D9D9"}})]),t._v(" "+t._s(t.versionLabel)+" ")]),e("div",{staticClass:"u-btn-item",on:{click:t.search}},[e("svg",{class:"u-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{d:"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"#FEDAA3"}})]),t._v(" 搜索 ")])])]},proxy:!0}],null,!1,2090461978)}):t._e(),e("el-drawer",{staticClass:"p-drawer-suspend",attrs:{visible:t.showForm,direction:"btt","with-header":!1,"custom-class":"u-drawer","modal-append-to-body":!1,"append-to-body":""},on:{"update:visible":function(e){t.showForm=e}}},[e("div",{staticClass:"m-reputation-tabs__miniprogram"},t._l(t.versions,(function(n){return e("div",{key:n.value,staticClass:"u-tab",class:{active:t.dlc===n.value},on:{click:function(e){return t.switchVersion(n.value)}}},[t._v(" "+t._s(n.label.replace(/\([^)]*\)/g,""))+" ")])})),0)]),e("CommonToolbar",{staticClass:"m-reputation-tabs",attrs:{color:"#d16400",search:""},on:{update:t.updateToolbar},scopedSlots:t._u([{key:"prefix",fn:function(){return[e("div",{staticClass:"m-toolbar-item"},[e("div",{staticClass:"u-item",class:{active:t.isAll},on:{click:t.toAll}},[t._v("全部")]),e("el-select",{staticClass:"u-select",class:{active:t.dlc},attrs:{clearable:""},scopedSlots:t._u([{key:"prefix",fn:function(){return[t._v(" 版本 ")]},proxy:!0}]),model:{value:t.dlc,callback:function(e){t.dlc=e},expression:"dlc"}},t._l(t.versions,(function(t){return e("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1)]},proxy:!0}])}),!t.isAll||this.keyword||t.isMiniProgram()?t._e():e("div",{staticClass:"reputation-list-wrapper"},[e("div",{staticClass:"reputation-title"},[t._v("资料片新增")]),e("div",{staticClass:"reputation-list"},t._l(t.newsList,(function(t){return e("reputation-item",{key:t.dwForceID,attrs:{item:t}})})),1)]),t.showList.length?t._l(t.showList,(function(n){return e("div",{key:n.value,staticClass:"reputation-list-wrapper"},[e("div",{staticClass:"reputation-title",class:t.isAll?"":"is-not-all-title"},[t._v(t._s(n.label))]),e("div",{staticClass:"reputation-list"},t._l(n.list,(function(t){return e("reputation-item",{key:t.dwForceID,attrs:{item:t}})})),1)])})):t._e()],2)},r=[],s=n("5530"),a=(n("99af"),n("4de4"),n("7db0"),n("0481"),n("caad"),n("d81d"),n("14d9"),n("4069"),n("e9f5"),n("910d"),n("f665"),n("ab43"),n("a9e3"),n("b64b"),n("d3b7"),n("2532"),n("3ca3"),n("498a"),n("ddb0"),n("85e4")),o=n("c1cc"),c=n("e5d7"),l=n("7dcc"),u=n("4238"),d=n("ffe2"),_=n("a69c"),f=n("cc9a"),p=n("2ef0"),v={name:"Index",components:{ReputationItem:l["a"],CommonToolbar:c["a"],SuspendCommon:o["a"]},data:function(){return{loading:!1,news:[],newsList:[],level:-1,versions:[],versionList:[],isAll:!0,keyword:"",dlc:"",showForm:!1,versionLabel:"版本",intervalId:null,isMiniProgram:Object(a["n"])()||Object(a["m"])()}},computed:{client:function(){return this.$store.state.client},params:function(){return{page:1,per:50,client:this.client}},showList:function(){var t=this,e=Object(p["cloneDeep"])(this.versionList);if(this.dlc&&(e=e.filter((function(e){return e.value===Number(t.dlc)}))),this.keyword){var n=this.keyword.trim();e=e.map((function(t){return t.list=t.list.filter((function(t){return t.szName.includes(n)})),t})).filter((function(t){return t.list.length}))}return e}},watch:{dlc:function(t){this.isAll=!t}},methods:{versionLabelChange:function(){var t=this;clearInterval(this.intervalId);var e="";if(this.dlc){var n=this.versionList.find((function(e){return e.value===Number(t.dlc)}));e=n.label.replace(/\([^)]*\)/g,"")}this.versionLabel=e,this.intervalId=setInterval((function(){t.versionLabel===e?t.versionLabel="版本":t.versionLabel=e}),5e3)},search:function(){this.$router.push({name:"search"})},updateToolbar:function(t){var e=t.search;this.keyword=e},toAll:function(){this.isAll=!0,this.dlc=""},switchVersion:function(t){t?this.dlc=t:(this.isAll=!0,this.dlc=""),this.showForm=!1,this.versionLabelChange()},loadData:function(){var t=this;this.loading=!0,Object(f["a"])("reputation-newest",{client:this.client}).then((function(e){t.news=e.split(",").map((function(t){return Number(t)}))})).then((function(){Object(u["c"])({client:t.client}).then((function(e){var n="std"===t.client?d:_,i=e.data.dlc||[],r=Object.keys(n).map((function(t){return"".concat(t,"(").concat(n[t].level,"级)")})).reverse(),a=i.map((function(t,e){return{value:t.nDlcID,total:t.total,label:r[e]}}));t.versions=a.reverse();var o=t.versions.map((function(e){return Object(u["b"])(Object(s["a"])({dlc:e.value},t.params))}));Promise.all(o).then((function(e){var n=e.map((function(t){return t.data.list}));t.newsList=n.flat().filter((function(e){return t.news.includes(e.dwForceID)}));var i,r,a=t.versions.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{list:n.flat().filter((function(e){return e.nDlcID===t.value}))})}));(t.versionList=a,t.isMiniProgram)&&(t.dlc=null===(i=t.versionList)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.value,t.versionLabelChange())}))}))})).finally((function(){t.loading=!1}))}},mounted:function(){this.loadData()}},h=v,m=(n("233f"),n("2877")),b=Object(m["a"])(h,i,r,!1,null,null,null);e["default"]=b.exports},"744e":function(t,e,n){"use strict";n("7806")},7806:function(t,e,n){},"7dcc":function(t,e,n){"use strict";n("fb6a");var i=function(){var t=this,e=t._self._c;return t.item.bHide?t._e():e("div",{staticClass:"reputation-item",on:{click:function(e){return t.go(t.item.dwForceID)}}},[e("div",{staticClass:"reputation-icon"},[t.getIcon(t.item.szIconPath)?e("img",{attrs:{src:t.getIcon(t.item.szIconPath)}}):e("div",{staticClass:"no-img"})]),e("div",{staticClass:"m-reputation-icon__miniprogram"},[t._v(" "+t._s(t.item.szName.slice(0,1))+" ")]),e("div",{staticClass:"reputation-name-wrap"},[e("div",{staticClass:"reputation-name"},[t._v(t._s(t.item.szName))]),t._m(0)])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"progress-wrap"},[e("div",{staticClass:"progress-value"})])}],s=(n("ac1f"),n("5319"),n("01ea")),a=n("85e4"),o=n("7720"),c={name:"ReputationItem",props:{item:{type:Object,required:!0}},methods:{go:function(t){Object(a["n"])()||Object(a["m"])()?Object(o["b"])("/reputation/".concat(t)):window.open("/reputation/".concat(t),"_self")},getIcon:function(t){var e=t?t.replace(/\//g,"\\"):"",n=e?e.split("\\")[e.split("\\").length-1].toLowerCase().split(".tga")[0]:"";return n?s["__imgPath"]+"reputation/reputation/std/icon/"+n+".png":""}}},l=c,u=(n("744e"),n("2877")),d=Object(u["a"])(l,i,r,!1,null,null,null);e["a"]=d.exports},"7edf":function(t,e,n){"use strict";n("fc7f")},82646:function(t,e,n){},c8d2:function(t,e,n){"use strict";var i=n("5e77").PROPER,r=n("d039"),s=n("5899"),a="​᠎";t.exports=function(t){return r((function(){return!!s[t]()||a[t]()!==a||i&&s[t].name!==t}))}},e5d7:function(t,e,n){"use strict";n("ac1f"),n("841c");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-common-toolbar"},[e("div",{staticClass:"m-toolbar-tool"},[t._t("tool")],2),e("div",{staticClass:"m-toolbar-box"},[t._t("prefix"),t.types.length?e("div",{staticClass:"m-toolbar-item"},[t.isMiniProgram?[e("div",{staticClass:"m-toolbar-item__mobile"},[e("div",{staticClass:"u-current-item"},[e("div",{staticClass:"u-item",style:t.style(t.activeType.value)},[t._v(t._s(t.activeType.label))]),e("div",{staticClass:"u-more",class:{"is-active":t.showMore},on:{click:function(e){t.showMore=!t.showMore}}},[e("i",{staticClass:"el-icon-more"})])]),t.showMore?e("div",{staticClass:"u-item-options"},[t._l(t.types,(function(n,i){return[n.value!=t.active?e("div",{key:i,staticClass:"u-item",style:t.style(n.value),on:{click:function(e){t.changeType(n.value),t.showMore=!1}}},[t._v(" "+t._s(n.label)+" ")]):t._e()]}))],2):t._e(),e("div",{staticClass:"u-search"},[e("el-input",{staticClass:"u-search-input",attrs:{placeholder:"请输入搜索内容","suffix-icon":"el-icon-search"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)])]:t._l(t.types,(function(n,i){return e("div",{key:i,staticClass:"u-item",style:t.style(n.value),on:{mouseover:function(e){return t.handleMouseOver(n.value)},mouseout:t.handleMouseOut,click:function(e){return t.changeType(n.value)}}},[t._v(" "+t._s(n.label)+" ")])}))],2):t._e(),t._t("prepend"),t.search&&!t.isMiniProgram?e("div",{staticClass:"m-toolbar-item m-toolbar-search"},[t._t("filter"),e("div",{staticClass:"u-search"},[e("el-input",{staticClass:"u-search-input",attrs:{placeholder:"请输入搜索内容","suffix-icon":"el-icon-search"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],2):t._e(),t._t("append")],2)])},r=[],s=(n("7db0"),n("e9f5"),n("f665"),n("a9e3"),n("d3b7"),{name:"toolbar",props:{types:{type:Array,default:function(){return[]}},search:{type:Boolean,default:!1},color:{type:String,default:"#6b52ff"},actColor:{type:String,default:"#ffffff"},active:{type:[String,Number],default:null}},data:function(){return{type:null,hover:null,title:"",showMore:!1}},computed:{isMiniProgram:function(){var t;return(null===(t=document.getElementsByClassName("v-miniprogram"))||void 0===t?void 0:t.length)>0},params:function(){var t={type:this.type};return this.title&&(t.search=this.title),t},activeType:function(){var t=this;return this.types.find((function(e){return e.value===t.active}))}},methods:{changeType:function(t){this.type=t},handleMouseOver:function(t){this.hover=t},handleMouseOut:function(){this.hover=null},style:function(t){var e=this.hover===t||this.type===t,n=e?this.color:"#fff",i=e?this.actColor:"#949494";return{backgroundColor:n,color:i}}},watch:{params:{deep:!0,handler:function(t){this.$emit("update",t)}},types:{immediate:!0,deep:!0,handler:function(t){t&&t.length&&(this.type=this.active||t[0].value)}}}}),a=s,o=(n("7edf"),n("2877")),c=Object(o["a"])(a,i,r,!1,null,null,null);e["a"]=c.exports},fc7f:function(t,e,n){}}]);
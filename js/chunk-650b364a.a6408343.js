(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-650b364a"],{"18a0":function(e,t){!function(t,i){e.exports=i(t)}("object"===typeof window&&window,(function(e,t){var i,n,a,s,o,r,c,u,l,d,p,m,f,g,h,v,_,y,b,w,k,I;if(e)return e.jWeixin?e.jWeixin:(i={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},n=function(){var e,t={};for(e in i)t[i[e]]=e;return t}(),a=e.document,s=a.title,o=navigator.userAgent.toLowerCase(),m=navigator.platform.toLowerCase(),r=!(!m.match("mac")&&!m.match("win")),c=-1!=o.indexOf("wxdebugger"),u=-1!=o.indexOf("micromessenger"),l=-1!=o.indexOf("android"),d=-1!=o.indexOf("iphone")||-1!=o.indexOf("ipad"),p=(m=o.match(/micromessenger\/(\d+\.\d+\.\d+)/)||o.match(/micromessenger\/(\d+\.\d+)/))?m[1]:"",f={initStartTime:P(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},g={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:d?1:l?2:-1,clientVersion:p,url:encodeURIComponent(location.href)},h={},v={_completes:[]},_={state:0,data:{}},A((function(){f.initEndTime=P()})),y=!1,b=[],w={config:function(t){N("config",h=t);var n=!1!==h.check;A((function(){if(n)S(i.config,{verifyJsApiList:M(h.jsApiList),verifyOpenTagList:M(h.openTagList)},(v._complete=function(e){f.preVerifyEndTime=P(),_.state=1,_.data=e},v.success=function(e){g.isPreVerifyOk=0},v.fail=function(e){v._fail?v._fail(e):_.state=-1},(s=v._completes).push((function(){O()})),v.complete=function(e){for(var t=0,i=s.length;t<i;++t)s[t]();v._completes=[]},v)),f.preVerifyStartTime=P();else{_.state=1;for(var e=v._completes,t=0,a=e.length;t<a;++t)e[t]();v._completes=[]}var s})),w.invoke||(w.invoke=function(t,i,n){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,x(i),n)},w.on=function(t,i){e.WeixinJSBridge&&WeixinJSBridge.on(t,i)})},ready:function(e){(0!=_.state||(v._completes.push(e),!u&&h.debug))&&e()},error:function(e){p<"6.0.2"||(-1==_.state?e(_.data):v._fail=e)},checkJsApi:function(e){S("checkJsApi",{jsApiList:M(e.jsApiList)},(e._complete=function(e){l&&(i=e.checkResult)&&(e.checkResult=JSON.parse(i));var t,i=e,a=i.checkResult;for(t in a){var s=n[t];s&&(a[s]=a[t],delete a[t])}},e))},onMenuShareTimeline:function(e){C(i.onMenuShareTimeline,{complete:function(){S("shareTimeline",{title:e.title||s,desc:e.title||s,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){C(i.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?S("sendAppMessage",{title:e.title||s,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):S("sendAppMessage",{title:e.title||s,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){C(i.onMenuShareQQ,{complete:function(){S("shareQQ",{title:e.title||s,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){C(i.onMenuShareWeibo,{complete:function(){S("shareWeiboApp",{title:e.title||s,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){C(i.onMenuShareQZone,{complete:function(){S("shareQZone",{title:e.title||s,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){S("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){S("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){S("startRecord",{},e)},stopRecord:function(e){S("stopRecord",{},e)},onVoiceRecordEnd:function(e){C("onVoiceRecordEnd",e)},playVoice:function(e){S("playVoice",{localId:e.localId},e)},pauseVoice:function(e){S("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){S("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){C("onVoicePlayEnd",e)},uploadVoice:function(e){S("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){S("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){S("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){S("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(l){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){e=e||{},S(i.getLocation,{type:e.type||"wgs84"},(e._complete=function(e){delete e.type},e))},previewImage:function(e){S(i.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){S("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){S("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===y?(y=!0,S("getLocalImgData",{localId:e.localId},(e._complete=function(e){var t;y=!1,0<b.length&&(t=b.shift(),wx.getLocalImgData(t))},e))):b.push(e)},getNetworkType:function(e){S("getNetworkType",{},(e._complete=function(e){var t=e,i=(e=t.errMsg,t.errMsg="getNetworkType:ok",t.subtype);if(delete t.subtype,i)t.networkType=i;else{i=e.indexOf(":");var n=e.substring(i+1);switch(n){case"wifi":case"edge":case"wwan":t.networkType=n;break;default:t.errMsg="getNetworkType:fail"}}},e))},openLocation:function(e){S("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},hideOptionMenu:function(e){S("hideOptionMenu",{},e)},showOptionMenu:function(e){S("showOptionMenu",{},e)},closeWindow:function(e){S("closeWindow",{},e=e||{})},hideMenuItems:function(e){S("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){S("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){S("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){S("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){S("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){var t;d&&(t=e.resultStr)&&(t=JSON.parse(t),e.resultStr=t&&t.scan_code&&t.scan_code.scan_result)},e))},openAddress:function(e){S(i.openAddress,{},(e._complete=function(e){(e=e).postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo},e))},openProductSpecificView:function(e){S(i.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var t=e.cardList,n=[],a=0,s=t.length;a<s;++a){var o=t[a];o={card_id:o.cardId,card_ext:o.cardExt};n.push(o)}S(i.addCard,{card_list:n},(e._complete=function(e){if(t=e.card_list){for(var t,i=0,n=(t=JSON.parse(t)).length;i<n;++i){var a=t[i];a.cardId=a.card_id,a.cardExt=a.card_ext,a.isSuccess=!!a.is_succ,delete a.card_id,delete a.card_ext,delete a.is_succ}e.cardList=t,delete e.card_list}},e))},chooseCard:function(e){S("chooseCard",{app_id:h.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))},openCard:function(e){for(var t=e.cardList,n=[],a=0,s=t.length;a<s;++a){var o=t[a];o={card_id:o.cardId,code:o.code};n.push(o)}S(i.openCard,{card_list:n},e)},consumeAndShareCard:function(e){S(i.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){S(i.chooseWXPay,T(e),e),O({jsApiName:"chooseWXPay"})},openEnterpriseRedPacket:function(e){S(i.openEnterpriseRedPacket,T(e),e)},startSearchBeacons:function(e){S(i.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){S(i.stopSearchBeacons,{},e)},onSearchBeacons:function(e){C(i.onSearchBeacons,e)},openEnterpriseChat:function(e){S("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){S("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){var t;if("string"==typeof e&&0<e.length)return t=e.split("?")[0],t+=".html",void 0!==(e=e.split("?")[1])?t+"?"+e:t}(e.path),envVersion:e.envVersion},e)},openBusinessView:function(e){S("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion},(e._complete=function(e){if(l){var t=e.extraData;if(t)try{e.extraData=JSON.parse(t)}catch(t){e.extraData={}}}},e))},miniProgram:{navigateBack:function(e){e=e||{},A((function(){S("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){A((function(){S("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){A((function(){S("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){A((function(){S("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){A((function(){S("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){A((function(){S("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(t){A((function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}},k=1,I={},a.addEventListener("error",(function(e){var t,i,n;l||(n=(t=e.target).tagName,i=t.src,"IMG"!=n&&"VIDEO"!=n&&"AUDIO"!=n&&"SOURCE"!=n)||-1!=i.indexOf("wxlocalresource://")&&(e.preventDefault(),e.stopPropagation(),(n=t["wx-id"])||(n=k++,t["wx-id"]=n),I[n]||(I[n]=!0,wx.ready((function(){wx.getLocalImgData({localId:i,success:function(e){t.src=e.localData}})}))))}),!0),a.addEventListener("load",(function(e){var t;l||(t=(e=e.target).tagName,e.src,"IMG"!=t&&"VIDEO"!=t&&"AUDIO"!=t&&"SOURCE"!=t)||(t=e["wx-id"])&&(I[t]=!1)}),!0),t&&(e.wx=e.jWeixin=w),w);function S(t,i,n){e.WeixinJSBridge?WeixinJSBridge.invoke(t,x(i),(function(e){L(t,e,n)})):N(t,n)}function C(t,i,n){e.WeixinJSBridge?WeixinJSBridge.on(t,(function(e){n&&n.trigger&&n.trigger(e),L(t,e,i)})):N(t,n||i)}function x(e){return(e=e||{}).appId=h.appId,e.verifyAppId=h.appId,e.verifySignType="sha1",e.verifyTimestamp=h.timestamp+"",e.verifyNonceStr=h.nonceStr,e.verifySignature=h.signature,e}function T(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function L(e,t,i){"openEnterpriseChat"!=e&&"openBusinessView"!==e||(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var a=t.errMsg;a||(a=t.err_msg,delete t.err_msg,a=function(e,t){var i,a=n[e];return a&&(e=a),a="ok",t&&(i=t.indexOf(":"),"access denied"!=(a=(a=(a=-1!=(a=-1!=(a="failed"==(a="confirm"==(a=t.substring(i+1))?"ok":a)?"fail":a).indexOf("failed_")?a.substring(7):a).indexOf("fail_")?a.substring(5):a).replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=a||(a="permission denied"),""==(a="config"==e&&"function not exist"==a?"ok":a))&&(a="fail"),e+":"+a}(e,a),t.errMsg=a),(i=i||{})._complete&&(i._complete(t),delete i._complete),a=t.errMsg||"",h.debug&&!i.isInnerInvoke&&alert(JSON.stringify(t)),e=a.indexOf(":");switch(a.substring(e+1)){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}function M(e){if(e){for(var t=0,n=e.length;t<n;++t){var a=e[t];a=i[a];a&&(e[t]=a)}return e}}function N(e,t){var i;!h.debug||t&&t.isInnerInvoke||((i=n[e])&&(e=i),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||""))}function O(e){var t;r||c||h.debug||p<"6.0.2"||g.systemType<0||(t=new Image,g.appId=h.appId,g.initTime=f.initEndTime-f.initStartTime,g.preVerifyTime=f.preVerifyEndTime-f.preVerifyStartTime,w.getNetworkType({isInnerInvoke:!0,success:function(i){g.networkType=i.networkType,i="https://open.weixin.qq.com/sdk/report?v="+g.version+"&o="+g.isPreVerifyOk+"&s="+g.systemType+"&c="+g.clientVersion+"&a="+g.appId+"&n="+g.networkType+"&i="+g.initTime+"&p="+g.preVerifyTime+"&u="+g.url+"&jsapi_name="+(e?e.jsApiName:""),t.src=i}}))}function P(){return(new Date).getTime()}function A(t){u&&(e.WeixinJSBridge?t():a.addEventListener&&a.addEventListener("WeixinJSBridgeReady",t,!1))}console.warn("can't use weixin-js-sdk in server side")}))},"2b88":function(e,t,i){"use strict";i("99af"),i("b0c0");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-pvx-user__miniprogram"},[e.isMiniProgram&&"奇遇"==e.name?t("div",{staticClass:"u-adventure-tips"},[e._v("← 左右滑动可以查看奇遇流程故事 →")]):e._e(),e.wiki_post&&e.wiki_post.post?t("div",{staticClass:"m-wiki-post-panel",attrs:{id:"mini-wiki-post-panel"}},[t("WikiPanel",{attrs:{"wiki-post":e.wiki_post}},[t("template",{slot:"head-title"},[t("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[t("path",{attrs:{d:"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z"}})]),t("span",{staticClass:"u-txt"},[e._v(e._s(e.name)+"攻略")])]),t("template",{slot:"head-actions"},[t("a",{staticClass:"el-button el-button--primary",attrs:{href:e.publish_url("".concat(e.type,"/").concat(e.id))}},[t("i",{staticClass:"el-icon-edit"}),t("span",[e._v("完善"+e._s(e.name)+"攻略")])])]),t("template",{slot:"body"},[e.compatible?t("div",{staticClass:"m-wiki-compatible"},[t("i",{staticClass:"el-icon-warning-outline"}),e._v(" 暂无缘起攻略，以下为重制攻略，仅作参考，"),t("a",{staticClass:"s-link",attrs:{href:e.publish_url("".concat(e.type,"/").concat(e.id))}},[e._v("参与修订")]),e._v("。 ")]):e._e(),t("Article",{attrs:{content:e.wiki_post.post.content}}),e.wiki_post.post.content?t("div",{staticClass:"m-wiki-signature",on:{click:function(t){e.versionVisible=!0}}},[e._v(" 查看历史修订 ")]):e._e()],1)],2),e._t("serendipity"),t("el-dialog",{attrs:{"lock-scroll":!1,visible:e.versionVisible,"custom-class":"m-version-drawer"},on:{"update:visible":function(t){e.versionVisible=t}}},[t("div",{staticClass:"m-version-container"},e._l(e.versions,(function(i,n){return t("div",{key:n,staticClass:"u-version"},[t("div",{staticClass:"u-title-wrap"},[t("div",{staticClass:"u-title"},[e._v(e._s(i.version))]),t("div",{staticClass:"u-user"},[e._v(e._s(i.user_nickname))])]),t("div",{staticClass:"u-time"},[e._v(e._s(i.time))]),t("div",{staticClass:"u-content"},[e._v(e._s(i.remark))])])})),0)])],2):e._e(),e.wiki_post&&e.wiki_post.post||!e.id?e._e():t("div",{staticClass:"m-wiki-post-empty"},[t("i",{staticClass:"el-icon-s-opportunity"}),t("span",[e._v("暂无攻略，我要")]),t("a",{staticClass:"s-link",attrs:{href:e.publish_url("".concat(e.type,"/").concat(e.id))}},[e._v("完善攻略")])]),e.isFromSeasun?e._e():t("WikiComments",{attrs:{id:"mini-wiki-comments",type:e.type,"source-id":String(e.id)}})],1)},a=[],s=i("5530"),o=(i("4de4"),i("d81d"),i("fb6a"),i("e9f5"),i("910d"),i("ab43"),i("d3b7"),i("9616")),r=i("500d"),c=i("a974"),u=i("662c"),l=i("d825"),d=i("85e4"),p={name:"PvxUser",components:{WikiPanel:u["a"],Article:c["a"],WikiComments:l["a"]},props:{id:{required:!0},name:{type:String,default:""},type:{type:String,required:!0},itemId:{type:String,default:""}},data:function(){return{wiki_post:{source:{},post:null},compatible:!1,is_empty:!0,versionVisible:!1,versions:[],isMiniProgram:Object(d["m"])()}},watch:{id:{immediate:!0,handler:function(){var e=this;console.log(this.$route.fullPath),this.post_id?this.loadRevision():this.loadData(),this.id&&r["a"].versions({type:this.type,id:this.id},{client:this.client}).then((function(t){var i;t=t.data;var n=null===(i=t.data)||void 0===i?void 0:i.length;e.versions=(t.data||[]).slice(0,5).map((function(e,t){return Object(s["a"])(Object(s["a"])({},e),{},{remark:e.remark,time:Object(d["t"])(e.updated),version:"V".concat(n-t)})}))}),(function(){e.versions=[]}))}},post_id:{handler:function(){this.loadRevision()}}},computed:{client:function(){return this.$store.state.client},post_id:function(){return this.itemId||this.$route.params.post_id},isRevision:function(){return this.itemId?!!this.itemId:!!this.$route.params.post_id},author_id:function(){var e,t;return~~(null===(e=this.wiki_post)||void 0===e||null===(t=e.post)||void 0===t?void 0:t.user_id)},user_name:function(){var e,t;return null===(e=this.wiki_post)||void 0===e||null===(t=e.post)||void 0===t?void 0:t.user_nickname},updated_at:function(){var e,t;return Object(d["t"])(null===(e=this.wiki_post)||void 0===e||null===(t=e.post)||void 0===t?void 0:t.updated)},fav_title:function(){var e,t;return null===(e=this.wiki_post)||void 0===e||null===(t=e.source)||void 0===t?void 0:t.Name},authors:function(){var e,t,i;return this.isRevision?[]:(null===(e=this.wiki_post)||void 0===e||null===(t=e.users)||void 0===t||null===(i=t.filter((function(e){return e.id})))||void 0===i?void 0:i.map((function(e){return{user_id:e.id,user_avatar:e.avatar,display_name:e.nickname}})))||[]},isFromSeasun:function(){var e;return this.isMiniProgram&&(null===(e=this.$route.fullPath)||void 0===e?void 0:e.indexOf("_from=seasun"))>-1}},methods:{getLink:d["g"],loadData:function(){var e=this;this.id&&r["a"].mix({type:this.type,id:this.id,client:this.client}).then((function(t){var i=t.post,n=t.source,a=t.compatible,s=t.isEmpty,o=t.users;e.wiki_post={post:i,source:n,users:o},e.is_empty=s,e.compatible=a})),this.triggerStat()},loadRevision:function(){var e=this;r["a"].getById(this.post_id).then((function(t){var i;e.wiki_post=null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data})),this.triggerStat()},publish_url:d["o"],triggerStat:function(){"origin"==this.client?Object(o["b"])("origin_".concat(type),this.id):Object(o["b"])(this.type,this.id)}}},m=p,f=(i("3dbd"),i("2877")),g=Object(f["a"])(m,n,a,!1,null,null,null);t["a"]=g.exports},"3dbd":function(e,t,i){"use strict";i("473a")},"431e":function(e,t,i){},"45db":function(e,t,i){"use strict";i.r(t);i("b0c0"),i("a9e3"),i("ac1f"),i("841c");var n=function(){var e,t=this,i=t._self._c;return i("div",{staticClass:"p-horse-single_mobile"},["true"!=(null===(e=t.$route.query)||void 0===e?void 0:e.disabled)?i("SuspendCommon",{staticClass:"u-horse-common",attrs:{btnOptions:{showHome:!0},drawerOptions:{hideType:["report","rss","search","user"],title:t.item.Name,postType:"horse",id:t.id}},on:{search:t.search}}):t._e(),i("div",{staticClass:"m-info-main"},[i("div",{staticClass:"u-top-box"},[i("div",{staticClass:"u-img"},[2!==t.type?i("img",{staticClass:"u-image",attrs:{src:t.getImgSrc(t.item,!0)},on:{error:t.replaceByDefault}}):i("item-icon",{staticClass:"u-image",attrs:{item_id:String(t.item.ItemID),isLink:!1,size:150,onlyIcon:!0}})],1),i("div",{staticClass:"u-info"},[i("div",{staticClass:"u-name"},[t._v(t._s(t.item.Name))]),i("div",{staticClass:"u-id"},[t._v("ID："+t._s(t.item.ID))])])]),i("div",{staticClass:"m-box m-types"},[i("div",{staticClass:"u-title"},[t._v("分类")]),i("div",{staticClass:"u-text"},[t._v(t._s(t.displayType))])]),i("div",{staticClass:"m-box m-other"},[i("div",{staticClass:"u-item"},[i("div",{staticClass:"u-title"},[t._v("品质")]),i("div",{staticClass:"u-text"},[t._v(t._s(t.item.Level))])]),"2"!==t.type?i("div",{staticClass:"u-item"},[i("div",{staticClass:"u-title"},[t._v("跑速")]),i("div",{staticClass:"u-text"},[t._v(t._s(t.speedName))])]):t._e(),"2"!==t.type?i("div",{staticClass:"u-item"},[i("div",{staticClass:"u-title"},[t._v("捕获地图")]),i("div",{staticClass:"u-text"},[t._v(t._s(t.originDatas))])]):t._e(),"2"!==t.type?i("div",{staticClass:"u-item"},[i("div",{staticClass:"u-title"},[t._v("饲料")]),i("div",{staticClass:"u-text"},[t._v(t._s(t.feedName))])]):t._e()]),t.basicAttrs.length?i("div",{staticClass:"m-box m-attrs"},[i("div",{staticClass:"u-title"},[t._v("属性")]),i("div",{staticClass:"u-attrs"},t._l(t.basicAttrs,(function(e){return i("div",{key:e.id,staticClass:"u-attr-item"},[i("el-popover",{attrs:{placement:"top",width:"300",trigger:"click","popper-class":"u-attr-popover"}},[i("div",{staticClass:"u-attr-pop"},[e.name?i("div",{staticClass:"u-attr-name"},[t._v(" "+t._s((e.name||"")+(Number(e.level)?e.level+"级":""))+" ")]):t._e(),i("div",{staticClass:"u-attr-desc"},[t._v(t._s(e.desc))])]),i("img",{staticClass:"u-attr-icon",attrs:{slot:"reference",src:e.iconUrl,alt:e.name},slot:"reference"})])],1)})),0)]):t._e(),t.magicAttrs.length?i("div",{staticClass:"m-box m-attrs"},[i("div",{staticClass:"u-title"},[t._v("特殊属性")]),i("div",{staticClass:"u-attrs"},t._l(t.magicAttrs,(function(e,n){return i("div",{key:n,staticClass:"u-attr-item"},[i("el-popover",{attrs:{placement:"top",width:"300",trigger:"click","popper-class":"u-attr-popover"}},[i("div",{staticClass:"u-attr-pop"},[e.name?i("div",{staticClass:"u-attr-name"},[t._v(" "+t._s((e.name||"")+(Number(e.level)?e.level+"级":""))+" ")]):t._e(),i("div",{staticClass:"u-attr-desc"},[t._v(t._s(e.desc))])]),i("img",{staticClass:"u-attr-icon",attrs:{slot:"reference",src:e.iconUrl,alt:e.name},slot:"reference"})])],1)})),0)]):t._e()]),t.sameList.length?i("div",{staticClass:"m-same-horses"},[i("div",{staticClass:"m-title"},[t._v("同类坐骑")]),i("div",{staticClass:"m-horse-card"},t._l(t.sameListInit,(function(e){return i("div",{key:null===e||void 0===e?void 0:e.ID,staticClass:"u-item",on:{click:function(i){return t.openOther(e)}}},[i("img",{staticClass:"u-img",attrs:{src:t.getImgSrc(e,!0)},on:{error:t.replaceByDefault}}),i("div",{staticClass:"u-name"},[t._v(t._s(e.Name))]),i("div",{staticClass:"u-id"},[t._v("ID："+t._s(e.ID))])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:t.sameList.length>3&&!t.showMore,expression:"sameList.length>3&& !showMore"}],staticClass:"u-more",on:{click:function(e){t.showMore=!0}}},[t._v("加载更多")])]):t._e(),i("div",[i("PvxUserMiniprogram",{attrs:{id:t.id,name:"坐骑",type:"item"}})],1)],1)},a=[],s=(i("99af"),i("4de4"),i("7db0"),i("a15b"),i("d81d"),i("14d9"),i("fb6a"),i("e9f5"),i("910d"),i("f665"),i("7d54"),i("ab43"),i("d3b7"),i("466d"),i("5319"),i("159b"),i("18a0")),o=i.n(s),r=i("c1cc"),c=i("bf15"),u=i("f252"),l=i("85e4"),d=i("01ea"),p=i("7720"),m=i("f34a"),f=i("ef56"),g=i("2b88"),h={name:"Single",components:{PvxUserMiniprogram:g["a"],ItemIcon:c["a"],SuspendCommon:r["a"]},inject:["__imgRoot","__imgRoot2"],data:function(){return{loading:!1,sameLoading:!1,item:{},sameList:[],showMore:!1}},computed:{originDatas:function(){var e=this.item.Name;if(e){var t=m.find((function(t){return e.indexOf(t.name)>-1}))?m.find((function(t){return e.indexOf(t.name)>-1})).mapList:[],i=[];return t.length&&t.forEach((function(e){i.push(f[e].mapName)})),i.length?i.join("/"):"无"}return"无"},id:function(){return this.$route.params.id||this.sourceId},type:function(){return this.$route.query.type},client:function(){return this.$store.state.client},basicAttrs:function(){var e=this.item.MagicAttributes;return e&&e.length?e.filter((function(e){return!e.level||"0"===e.level})).map((function(e){return e.iconUrl=Object(l["l"])(e.icon),e})):[]},magicAttrs:function(){var e=this.item.MagicAttributes;return e&&e.length?e.filter((function(e){return e.icon&&"0"!==e.level})).map((function(e){return e.iconUrl=Object(l["l"])(e.icon),e})):[]},typeName:function(){var e=this.item,t="";return 15===e.SubType?t=0===e.DetailType?"普通坐骑":"奇趣坐骑":23===e.SubType&&(t=0===e.DetailType?"头饰":1===e.DetailType?"鞍饰":2===e.DetailType?"足饰":3===e.DetailType?"马饰":"马具"),t},modeName:function(){var e="",t=this.item;return 15===t.SubType&&t.MagicAttributes&&t.MagicAttributes.length&&(e=t.MagicAttributes.find((function(e){return"15650"===e.id}))?t.MagicAttributes.find((function(e){return"15650"===e.id})).name:"单骑"),e},feedName:function(){var e=this.item,t="";if(15===e.SubType&&e.Feed){var i=e.Feed.FeedTip.indexOf("【"),n=e.Feed.FeedTip.indexOf("】");t=e.Feed.FeedTip.slice(i,n+1)}return this.isRobot?t.replace("【","").replace("】",""):t},speedName:function(){var e=this.item,t="";return e.MoveSpeed&&(t=e.MoveSpeedDesc.split("移动速度提高")[1]),t},displayType:function(){var e=this.typeName;return"2"!==this.type&&(e+=" · ".concat(this.modeName),this.item.GetType&&(e+=" · ".concat(this.item.GetType))),e},sameListInit:function(){return this.showMore?this.sameList:this.sameList.length>3?this.sameList.slice(0,3):this.sameList}},watch:{id:{immediate:!0,handler:function(e){e&&this.getHorse(e)}}},methods:{openOther:function(e){Object(p["a"])("/horse/".concat(e.ItemID,"?type=").concat(this.type))},search:function(){o.a.miniProgram.navigateTo({url:"/pages/search/search-detail/search-detail?app=坐骑&filter_name=pvxhorse"})},replaceByDefault:function(e){e.target.src=i("d47d")},getHorse:function(e){var t=this,i={id:e,client:this.client};"2"===this.type&&(i.type=2),this.loading=!0,Object(u["d"])(i).then((function(e){t.loading=!1,t.item=e.data||{};var i=e.data.Name;document.title=i,"普通坐骑"===t.typeName&&(i=e.data.Name.split("·")[0]),"2"!==t.type&&i&&t.getSameHorses(i)})).finally((function(){t.loading=!1}))},getSameHorses:function(e){var t=this,i={page:1,pageSize:50,client:this.client,keyword:e};this.sameLoading=!0,Object(u["f"])(i).then((function(e){t.sameLoading=!1,t.sameList=e.data.list.filter((function(e){return e.ID!==t.item.ID})).map((function(e){return e.imgUrl=t.getImgSrc(e),e.MagicAttributes&&e.MagicAttributes.length&&e.MagicAttributes.map((function(e){return e.iconUrl=Object(l["l"])(e.icon),e})),e}))})).finally((function(){t.sameLoading=!1}))},getImgSrc:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t?this.client:"std",n=e.ImgPath;if(n){var a=n.toLowerCase().match(/.*[\/,\\]homeland(.*?).tga/),s=null===a||void 0===a?void 0:a[1].replace(/\\/g,"/");return"default"==(null===a||void 0===a?void 0:a[1])?this.__imgRoot+"homeland/".concat(i)+"/default/default.png":this.__imgRoot+"homeland/".concat(i)+s+".png"}return"".concat(d["__cdn"],"/design/horse/").concat(i,"/").concat(e.ID,".png")},getLink:l["g"]}},v=h,_=(i("c14c"),i("2877")),y=Object(_["a"])(v,n,a,!1,null,null,null);t["default"]=y.exports},"473a":function(e,t,i){},7720:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("3835"),a=(i("99af"),i("a15b"),i("d81d"),i("e9f5"),i("ab43"),i("c1f9"),i("b64b"),i("d3b7"),i("3ca3"),i("ddb0"),i("9861"),i("88a7"),i("271a"),i("5494"),i("18a0")),s=i.n(a),o=function(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")};function r(e){var t=e.split("?"),i=Object(n["a"])(t,2),a=i[0],r=i[1],c=r?Object.fromEntries(new URLSearchParams(r)):{};c.path=a;var u="/pages/webview/webview?"+o(c);s.a.miniProgram.navigateTo({url:u})}},b9e8:function(e,t,i){},bf15:function(e,t,i){"use strict";i("99af");var n=function(){var e=this,t=e._self._c;return t("el-popover",{staticClass:"u-item",attrs:{placement:"right-start",trigger:"hover","visible-arrow":!1,"popper-class":"u-item__popup"}},[t("template",{slot:"reference"},[t("div",{staticClass:"u-item__wrapper",class:{background:!e.onlyIcon,is_vertical:e.vertical}},[e.onlyName?e._e():t("a",{staticClass:"u-item-icon",style:"height:".concat(e.size,"px; width:").concat(e.size,"px"),attrs:{target:"_blank",href:e.isLink?e.getLink("item",e.source.id):e.noLink()}},[t("img",{staticClass:"u-item-icon__img",style:{height:e.size+"px",width:e.size+"px",cursor:e.isLink?"pointer":"default"},attrs:{src:e.iconLink(e.source.IconID,e.client)}}),t("div",{staticClass:"u-item-icon__quality",style:{backgroundImage:e.item_border(e.source),opacity:5==e.source.Quality?.9:1}}),t("div",{staticClass:"u-item-icon__quest",style:{backgroundImage:e.item_border_quest(e.source)}}),1!==e.display_amount?t("span",{staticClass:"u-item-icon__count"},[e._v(e._s(e.display_amount))]):e._e()]),e.onlyIcon?e._e():t("div",{staticClass:"u-item-name",class:"e-jx3-item__q".concat(e.source.Quality)},[e._v(" "+e._s(e.source.Name)+" ")])])]),t("jx3-item",{attrs:{item:e.source}})],2)},a=[],s=(i("e9c4"),i("a9e3"),i("b64b"),i("c7fa")),o=i("4ae4"),r=i("85e4"),c=i("01ea"),u={name:"ItemIcon",data:function(){return{source:{},real_id:null,maybeBook:!1}},components:{"jx3-item":s["a"]},props:{size:{type:Number,default:28},item_id:{type:String,default:null},amount:{type:Number,default:1},onlyName:{type:Boolean,default:!1},onlyIcon:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},isLink:{type:Boolean,default:!0}},methods:{noLink:function(){return!1},get_data:function(e){var t=this;e&&Object(o["a"])(e,this.client).then((function(e){var i=e.data;Object.keys(i).length&&(t.source=i,sessionStorage.setItem(t.cache_key,JSON.stringify(i)))})).catch((function(e){var i;400==(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.code)&&!1===t.maybeBook&&(t.maybeBook=!0,t.real_id="".concat(t.item_id,"_").concat(t.amount))}))},iconLink:r["l"],getLink:r["g"],item_border_quest:function(e){return e.IsQuest>0?"url(".concat(c["__imgPath"],"image/item/renwu.png)"):""},item_border:function(e){switch(e.Quality){case 3:return"url(".concat(c["__imgPath"],"image/item/blue.png)");case 4:return"url(".concat(c["__imgPath"],"image/item/purple.png)");case 5:return"url(".concat(c["__imgPath"],"image/item/orange.gif)");default:return""}}},computed:{client:function(){return this.$store.state.client},cache_key:function(){return"item-".concat(this.client,"-").concat(this.real_id)},display_amount:function(){return!1===this.maybeBook?this.amount:1}},watch:{real_id:{immediate:!0,handler:function(){var e=sessionStorage.getItem(this.cache_key);if(e)try{this.source=JSON.parse(e)}catch(t){console.log(t,"[Item]无法解析本地缓存"),this.get_data(this.real_id)}else this.get_data(this.real_id)}},item_id:{immediate:!0,handler:function(){this.real_id=this.item_id}}}},l=u,d=(i("e459"),i("2877")),p=Object(d["a"])(l,n,a,!1,null,null,null);t["a"]=p.exports},c14c:function(e,t,i){"use strict";i("b9e8")},c1f9:function(e,t,i){"use strict";var n=i("23e7"),a=i("2266"),s=i("8418");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,(function(e,i){s(t,e,i)}),{AS_ENTRIES:!0}),t}})},d47d:function(e,t,i){e.exports=i.p+"img/horse_item_bg_sm.1dd5cf95.jpg"},e459:function(e,t,i){"use strict";i("431e")},ef56:function(e){e.exports=JSON.parse('{"13":{"mapName":"金水镇","horses":["龙子","麟驹"],"coordinates":[{"x":51547,"y":17586,"z":1056512}]},"21":{"mapName":"巴陵县","horses":["龙子","麟驹"],"coordinates":[{"x":59030,"y":46042,"z":1056448}]},"22":{"mapName":"南屏山","horses":["绝尘","赤蛇","闪电"],"coordinates":[{"x":87058,"y":61930,"z":1116416}]},"23":{"mapName":"龙门荒漠","horses":["龙子","麟驹"],"coordinates":[{"x":36139,"y":62593,"z":1065728}]},"30":{"mapName":"昆仑","horses":["绝尘","赤蛇","闪电"],"coordinates":[{"x":36263,"y":72466,"z":1073792}]},"74":{"mapName":"帮会领地","coordinates":[{"x":17193,"y":25286,"z":1100032}]},"100":{"mapName":"白龙口","horses":["绝尘","赤蛇","闪电"],"coordinates":[{"x":39766,"y":99090,"z":1120704}]},"101":{"mapName":"无量山","horses":["绝尘","赤蛇","闪电"],"coordinates":[{"x":78670,"y":112690,"z":1054784}]},"104":{"mapName":"黑龙沼","horses":["里飞沙·踏秋"],"coordinates":[{"x":82823,"y":102579,"z":1054400}]},"105":{"mapName":"苍山洱海","coordinates":[{"x":21128,"y":13890,"z":1140800}]},"216":{"mapName":"阴山大草原","horses":[["龙子·踏莎","麟驹·踏莎"],["绝尘·踏莎","赤蛇·踏莎","闪电·踏莎"],["里飞沙·踏秋"],["赤兔·飞虹"]],"coordinates":[{"x":87078,"y":40830,"z":1089088}]},"217":{"mapName":"黑戈壁","horses":[["龙子·燕歌","麟驹·燕歌"],["绝尘·燕歌","赤蛇·燕歌","闪电·燕歌"],["里飞沙·踏秋"],["赤兔·飞虹"]],"coordinates":[{"x":91514,"y":61046,"z":1077056}]},"411":{"mapName":"鲲鹏岛","horses":[["龙子·潮生","麟驹·潮生"],["绝尘·潮生","赤蛇·潮生","闪电·潮生"],["里飞沙·踏秋"],["赤兔·飞虹"]],"coordinates":[{"x":82174,"y":102429,"z":1092224}]}}')},f252:function(e,t,i){"use strict";i.d(t,"f",(function(){return s})),i.d(t,"d",(function(){return o})),i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return u})),i.d(t,"g",(function(){return d})),i.d(t,"e",(function(){return l}));var n=i("41cb"),a=Object(n["d"])();function s(e){return a.get("/horses",{params:e})}function o(e){return a.get("/horse",{params:e})}function r(e){return a.get("/horse/attrs",{params:e})}function c(e){return a.get("/horse/feeds",{params:e})}function u(e){return Object(n["c"])().get("/api/game/reporter/horse",{params:e})}function l(e,t){var i={pageIndex:1,pageSize:50,server:t,type:e,subtype:"share_msg"};return Object(n["c"])().get("/api/game/reporter/horse",{params:i})}function d(){return Object(n["a"])().get("/api/cms/user/my/info")}},f34a:function(e){e.exports=JSON.parse('[{"name":"浮云","mapList":["74","105","216","217","411"]},{"name":"绝群","mapList":["74","105","216","217","411"]},{"name":"逸骠","mapList":["74","105","216","217","411"]},{"name":"紫燕骝","mapList":["74","105","216","217","411"]},{"name":"绿螭骢","mapList":["74","105","216","217","411"]},{"name":"龙子","mapList":["13","21","23","216","217","411"]},{"name":"麟驹","mapList":["13","21","23","216","217","411"]},{"name":"绝尘","mapList":["22","30","100","101","216","217","411"]},{"name":"赤蛇","mapList":["22","30","100","101","216","217","411"]},{"name":"闪电","mapList":["22","30","100","101","216","217","411"]},{"name":"里飞沙","mapList":["104","216","217","411"]},{"name":"赤兔","mapList":["216","217","411"]}]')}}]);
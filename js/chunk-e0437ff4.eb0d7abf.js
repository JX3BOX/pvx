(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0437ff4"],{"0ecf":function(t,i,e){!function(i,e){t.exports=e()}(0,(function(){"use strict";var t="minute",i=/[+-]\d\d(?::?\d\d)?/g,e=/([+-]|\d\d)/g;return function(s,n,a){var r=n.prototype;a.utc=function(t){var i={date:t,utc:!0,args:arguments};return new n(i)},r.utc=function(i){var e=a(this.toDate(),{locale:this.$L,utc:!0});return i?e.add(this.utcOffset(),t):e},r.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var o=r.parse;r.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),o.call(this,t)};var c=r.init;r.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else c.call(this)};var u=r.utcOffset;r.utcOffset=function(s,n){var a=this.$utils().u;if(a(s))return this.$u?0:a(this.$offset)?u.call(this):this.$offset;if("string"==typeof s&&(s=function(t){void 0===t&&(t="");var s=t.match(i);if(!s)return null;var n=(""+s[0]).match(e)||["-",0,0],a=n[0],r=60*+n[1]+ +n[2];return 0===r?0:"+"===a?r:-r}(s),null===s))return this;var r=Math.abs(s)<=16?60*s:s,o=this;if(n)return o.$offset=r,o.$u=0===s,o;if(0!==s){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(r+c,t)).$offset=r,o.$x.$localOffset=c}else o=this.utc();return o};var l=r.format;r.format=function(t){var i=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,i)},r.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var d=r.toDate;r.toDate=function(t){return"s"===t&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=r.diff;r.diff=function(t,i,e){if(t&&this.$u===t.$u)return f.call(this,t,i,e);var s=this.local(),n=a(t).local();return f.call(s,n,i,e)}}}))},"11a3":function(t,i,e){"use strict";e("99af"),e("b0c0");var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"w-pvx-user"},[t.wiki_post&&t.wiki_post.post?i("div",{staticClass:"m-wiki-post-panel"},[i("WikiPanel",{attrs:{"wiki-post":t.wiki_post}},[i("template",{slot:"head-title"},[i("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[i("path",{attrs:{d:"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z"}})]),i("span",{staticClass:"u-txt"},[t._v(t._s(t.name)+"攻略")])]),i("template",{slot:"head-actions"},[i("a",{staticClass:"el-button el-button--primary",attrs:{href:t.publish_url("".concat(t.type,"/").concat(t.id))}},[i("i",{staticClass:"el-icon-edit"}),i("span",[t._v("完善"+t._s(t.name)+"攻略")])])]),i("template",{slot:"body"},[t.compatible?i("div",{staticClass:"m-wiki-compatible"},[i("i",{staticClass:"el-icon-warning-outline"}),t._v(" 暂无缘起攻略，以下为重制攻略，仅作参考，"),i("a",{staticClass:"s-link",attrs:{href:t.publish_url("".concat(t.type,"/").concat(t.id))}},[t._v("参与修订")]),t._v("。 ")]):t._e(),i("Article",{attrs:{content:t.wiki_post.post.content}}),i("div",{staticClass:"m-wiki-signature"},[i("i",{staticClass:"el-icon-edit"}),t._v(" 本次修订由 "),i("b",[t._v(t._s(t.user_name))]),t._v(" 提交于"+t._s(t.updated_at)+" ")])],1)],2),t._t("serendipity"),i("WikiRevisions",{attrs:{type:t.type,"source-id":t.id}})],2):t._e(),t.wiki_post&&t.wiki_post.post||!t.id?t._e():i("div",{staticClass:"m-wiki-post-empty"},[i("i",{staticClass:"el-icon-s-opportunity"}),i("span",[t._v("暂无攻略，我要")]),i("a",{staticClass:"s-link",attrs:{href:t.publish_url("".concat(t.type,"/").concat(t.id))}},[t._v("完善攻略")])]),i("Thx",{key:t.type+"-thx-"+t.id,staticClass:"m-thx",attrs:{postId:t.id,postType:t.type,postTitle:t.wiki_post.source.Name,userId:t.author_id,adminBoxcoinEnable:!1,userBoxcoinEnable:!1,authors:t.authors,mode:"wiki",client:t.client}}),i("WikiComments",{attrs:{type:t.type,"source-id":String(t.id)}})],1)},n=[],a=(e("4de4"),e("d81d"),e("e9f5"),e("910d"),e("ab43"),e("d3b7"),e("9616")),r=e("500d"),o=e("a974"),c=e("662c"),u=e("9307"),l=e("d825"),d=e("85e4"),f={name:"PvxUser",components:{WikiPanel:c["a"],Article:o["a"],WikiRevisions:u["a"],WikiComments:l["a"]},props:{id:{required:!0},name:{type:String,default:""},type:{type:String,required:!0},itemId:{type:String,default:""}},data:function(){return{wiki_post:{source:{},post:null},compatible:!1,is_empty:!0}},watch:{id:{immediate:!0,handler:function(){this.post_id?this.loadRevision():this.loadData()}},post_id:{handler:function(){this.loadRevision()}}},computed:{client:function(){return this.$store.state.client},post_id:function(){return this.itemId||this.$route.params.post_id},isRevision:function(){return this.itemId?!!this.itemId:!!this.$route.params.post_id},author_id:function(){var t,i;return~~(null===(t=this.wiki_post)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.user_id)},user_name:function(){var t,i;return null===(t=this.wiki_post)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.user_nickname},updated_at:function(){var t,i;return Object(d["t"])(null===(t=this.wiki_post)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.updated)},fav_title:function(){var t,i;return null===(t=this.wiki_post)||void 0===t||null===(i=t.source)||void 0===i?void 0:i.Name},authors:function(){var t,i,e;return this.isRevision?[]:(null===(t=this.wiki_post)||void 0===t||null===(i=t.users)||void 0===i||null===(e=i.filter((function(t){return t.id})))||void 0===e?void 0:e.map((function(t){return{user_id:t.id,user_avatar:t.avatar,display_name:t.nickname}})))||[]}},methods:{getLink:d["g"],loadData:function(){var t=this;this.id&&r["a"].mix({type:this.type,id:this.id,client:this.client}).then((function(i){var e=i.post,s=i.source,n=i.compatible,a=i.isEmpty,r=i.users;t.wiki_post={post:e,source:s,users:r},t.is_empty=a,t.compatible=n})),this.triggerStat()},loadRevision:function(){var t=this;r["a"].getById(this.post_id).then((function(i){var e;t.wiki_post=null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.data})),this.triggerStat()},publish_url:d["o"],triggerStat:function(){"origin"==this.client?Object(a["b"])("origin_".concat(type),this.id):Object(a["b"])(this.type,this.id)}}},h=f,v=(e("bede"),e("2877")),p=Object(v["a"])(h,s,n,!1,null,null,null);i["a"]=p.exports},1311:function(t,i,e){},19537:function(t,i,e){!function(i,e){t.exports=e()}(0,(function(){"use strict";var t={year:0,month:1,day:2,hour:3,minute:4,second:5},i={};return function(e,s,n){var a,r=function(t,e,s){void 0===s&&(s={});var n=new Date(t),a=function(t,e){void 0===e&&(e={});var s=e.timeZoneName||"short",n=t+"|"+s,a=i[n];return a||(a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:s}),i[n]=a),a}(e,s);return a.formatToParts(n)},o=function(i,e){for(var s=r(i,e),a=[],o=0;o<s.length;o+=1){var c=s[o],u=c.type,l=c.value,d=t[u];d>=0&&(a[d]=parseInt(l,10))}var f=a[3],h=24===f?0:f,v=a[0]+"-"+a[1]+"-"+a[2]+" "+h+":"+a[4]+":"+a[5]+":000",p=+i;return(n.utc(v).valueOf()-(p-=p%1e3))/6e4},c=s.prototype;c.tz=function(t,i){void 0===t&&(t=a);var e,s=this.utcOffset(),r=this.toDate(),o=r.toLocaleString("en-US",{timeZone:t}),c=Math.round((r-new Date(o))/1e3/60),u=15*-Math.round(r.getTimezoneOffset()/15)-c;if(Number(u)){if(e=n(o,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(u,!0),i){var l=e.utcOffset();e=e.add(s-l,"minute")}}else e=this.utcOffset(0,i);return e.$x.$timezone=t,e},c.offsetName=function(t){var i=this.$x.$timezone||n.tz.guess(),e=r(this.valueOf(),i,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return e&&e.value};var u=c.startOf;c.startOf=function(t,i){if(!this.$x||!this.$x.$timezone)return u.call(this,t,i);var e=n(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return u.call(e,t,i).tz(this.$x.$timezone,!0)},n.tz=function(t,i,e){var s=e&&i,r=e||i||a,c=o(+n(),r);if("string"!=typeof t)return n(t).tz(r);var u=function(t,i,e){var s=t-60*i*1e3,n=o(s,e);if(i===n)return[s,i];var a=o(s-=60*(n-i)*1e3,e);return n===a?[s,n]:[t-60*Math.min(n,a)*1e3,Math.max(n,a)]}(n.utc(t,s).valueOf(),c,r),l=u[0],d=u[1],f=n(l).utcOffset(d);return f.$x.$timezone=r,f},n.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},n.tz.setDefault=function(t){a=t}}}))},"2b88":function(t,i,e){"use strict";e("99af"),e("b0c0");var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"w-pvx-user__miniprogram"},[t.wiki_post&&t.wiki_post.post?i("div",{staticClass:"m-wiki-post-panel"},[i("WikiPanel",{attrs:{"wiki-post":t.wiki_post}},[i("template",{slot:"head-title"},[i("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[i("path",{attrs:{d:"M382.5 109.2C345.1 71.8 296.3 50 243.9 47v110.9c46.7 19.2 79.6 65.2 79.6 118.7 0 58-47.2 105.2-105.2 105.2-47.8 0-86.6-38.9-86.6-86.6 0-39.6 32.2-71.8 71.8-71.8 33.1 0 59.9 26.9 59.9 59.9h-25c0-19.3-15.7-34.9-34.9-34.9-25.8 0-46.8 21-46.8 46.8 0 34 27.6 61.6 61.6 61.6 44.2 0 80.1-35.9 80.1-80.1 0-57-46.3-103.3-103.3-103.3C122.3 173.3 63 232.6 63 305.6 63 398.4 138.5 474 231.4 474c57.1 0 110.7-22.2 151.1-62.6 40.4-40.4 62.6-94 62.6-151.1s-22.2-110.7-62.6-151.1z"}})]),i("span",{staticClass:"u-txt"},[t._v(t._s(t.name)+"攻略")])]),i("template",{slot:"head-actions"},[i("a",{staticClass:"el-button el-button--primary",attrs:{href:t.publish_url("".concat(t.type,"/").concat(t.id))}},[i("i",{staticClass:"el-icon-edit"}),i("span",[t._v("完善"+t._s(t.name)+"攻略")])])]),i("template",{slot:"body"},[t.compatible?i("div",{staticClass:"m-wiki-compatible"},[i("i",{staticClass:"el-icon-warning-outline"}),t._v(" 暂无缘起攻略，以下为重制攻略，仅作参考，"),i("a",{staticClass:"s-link",attrs:{href:t.publish_url("".concat(t.type,"/").concat(t.id))}},[t._v("参与修订")]),t._v("。 ")]):t._e(),i("Article",{attrs:{content:t.wiki_post.post.content}}),t.wiki_post.post.content?i("div",{staticClass:"m-wiki-signature",on:{click:function(i){t.versionVisible=!0}}},[t._v(" 查看历史修订 ")]):t._e()],1)],2),t._t("serendipity"),i("el-drawer",{staticClass:"m-version-drawer",attrs:{visible:t.versionVisible,direction:"btt","append-to-body":"","show-close":!1,"custom-class":"bottom-drawer","modal-class":"full-modal"},on:{"update:visible":function(i){t.versionVisible=i}}},[i("div",{staticClass:"m-version-container"},t._l(t.versions,(function(e,s){return i("div",{key:s,staticClass:"u-version"},[i("div",{staticClass:"u-title-wrap"},[i("div",{staticClass:"u-title"},[t._v(t._s(e.version))]),i("div",{staticClass:"u-user"},[t._v(t._s(e.user_nickname))])]),i("div",{staticClass:"u-time"},[t._v(t._s(e.time))]),i("div",{staticClass:"u-content"},[t._v(t._s(e.remark))])])})),0)])],2):t._e(),t.wiki_post&&t.wiki_post.post||!t.id?t._e():i("div",{staticClass:"m-wiki-post-empty"},[i("i",{staticClass:"el-icon-s-opportunity"}),i("span",[t._v("暂无攻略，我要")]),i("a",{staticClass:"s-link",attrs:{href:t.publish_url("".concat(t.type,"/").concat(t.id))}},[t._v("完善攻略")])]),t.isFromSeasun?t._e():i("WikiComments",{attrs:{type:t.type,"source-id":String(t.id)}})],1)},n=[],a=e("5530"),r=(e("4de4"),e("d81d"),e("fb6a"),e("e9f5"),e("910d"),e("ab43"),e("d3b7"),e("9616")),o=e("500d"),c=e("a974"),u=e("662c"),l=e("d825"),d=e("85e4"),f={name:"PvxUser",components:{WikiPanel:u["a"],Article:c["a"],WikiComments:l["a"]},props:{id:{required:!0},name:{type:String,default:""},type:{type:String,required:!0},itemId:{type:String,default:""}},data:function(){return{wiki_post:{source:{},post:null},compatible:!1,is_empty:!0,versionVisible:!1,versions:[]}},watch:{id:{immediate:!0,handler:function(){var t=this;console.log(this.$route.fullPath),this.post_id?this.loadRevision():this.loadData(),this.id&&o["a"].versions({type:this.type,id:this.id},{client:this.client}).then((function(i){var e;i=i.data;var s=null===(e=i.data)||void 0===e?void 0:e.length;t.versions=(i.data||[]).slice(0,5).map((function(t,i){return Object(a["a"])(Object(a["a"])({},t),{},{remark:t.remark,time:Object(d["t"])(t.updated),version:"V".concat(s-i)})}))}),(function(){t.versions=[]}))}},post_id:{handler:function(){this.loadRevision()}}},computed:{client:function(){return this.$store.state.client},post_id:function(){return this.itemId||this.$route.params.post_id},isRevision:function(){return this.itemId?!!this.itemId:!!this.$route.params.post_id},author_id:function(){var t,i;return~~(null===(t=this.wiki_post)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.user_id)},user_name:function(){var t,i;return null===(t=this.wiki_post)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.user_nickname},updated_at:function(){var t,i;return Object(d["t"])(null===(t=this.wiki_post)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.updated)},fav_title:function(){var t,i;return null===(t=this.wiki_post)||void 0===t||null===(i=t.source)||void 0===i?void 0:i.Name},authors:function(){var t,i,e;return this.isRevision?[]:(null===(t=this.wiki_post)||void 0===t||null===(i=t.users)||void 0===i||null===(e=i.filter((function(t){return t.id})))||void 0===e?void 0:e.map((function(t){return{user_id:t.id,user_avatar:t.avatar,display_name:t.nickname}})))||[]},isMiniProgram:function(){return Object(d["m"])()},isFromSeasun:function(){var t;return this.isMiniProgram&&(null===(t=this.$route.fullPath)||void 0===t?void 0:t.indexOf("_from=seasun"))>-1}},methods:{getLink:d["g"],loadData:function(){var t=this;this.id&&o["a"].mix({type:this.type,id:this.id,client:this.client}).then((function(i){var e=i.post,s=i.source,n=i.compatible,a=i.isEmpty,r=i.users;t.wiki_post={post:e,source:s,users:r},t.is_empty=a,t.compatible=n})),this.triggerStat()},loadRevision:function(){var t=this;o["a"].getById(this.post_id).then((function(i){var e;t.wiki_post=null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.data})),this.triggerStat()},publish_url:d["o"],triggerStat:function(){"origin"==this.client?Object(r["b"])("origin_".concat(type),this.id):Object(r["b"])(this.type,this.id)}}},h=f,v=(e("5371"),e("2877")),p=Object(v["a"])(h,s,n,!1,null,null,null);i["a"]=p.exports},4360:function(t,i,e){"use strict";e("caad"),e("2532");var s=e("2b0e"),n=e("2f62");s["default"].use(n["a"]);var a={state:{client:location.href.includes("std")?"std":"origin"},mutations:{},getters:{},actions:{},modules:{}};i["a"]=new n["a"].Store(a)},5371:function(t,i,e){"use strict";e("a866")},"588c":function(t,i,e){},"5e77d":function(t,i,e){!function(i,e){t.exports=e()}(0,(function(){"use strict";var t="day";return function(i,e,s){var n=function(i){return i.add(4-i.isoWeekday(),t)},a=e.prototype;a.isoWeekYear=function(){return n(this).year()},a.isoWeek=function(i){if(!this.$utils().u(i))return this.add(7*(i-this.isoWeek()),t);var e,a,r,o,c=n(this),u=(e=this.isoWeekYear(),a=this.$u,r=(a?s.utc:s)().year(e).startOf("year"),o=4-r.isoWeekday(),r.isoWeekday()>4&&(o+=7),r.add(o,t));return c.diff(u,"week")+1},a.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var r=a.startOf;a.startOf=function(t,i){var e=this.$utils(),s=!!e.u(i)||i;return"isoweek"===e.p(t)?s?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):r.bind(this)(t,i)}}}))},"60d7":function(t){t.exports=JSON.parse('["蝶恋花","龙争虎斗","长安城","幽月轮","斗转星移","剑胆琴心","乾坤一掷","唯我独尊","梦江南","绝代天骄","天鹅坪","破阵子","飞龙在天","青梅煮酒","眉间雪","有人赴约","万象长安","山海相逢"]')},"77a8":function(t,i,e){},"85b5":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return t.id?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"p-adventure-single"},[i("div",{staticClass:"m-adventure-navigation"},[i("div",{staticClass:"u-goback",on:{click:t.goBack}},[t._v("返回列表")])]),i("div",{staticClass:"m-adventure-header"},[i("span",{staticClass:"m-adventure-title"},[t._v(t._s(t.title))]),i("div",{staticClass:"m-trigger-links"},[i("a",{staticClass:"u-link u-achievement",attrs:{href:t.getLink("cj",t.achieve_id),target:"_blank"}},[i("i",{staticClass:"el-icon-trophy"}),t._v(" 成就信息 ")])])]),i("div",{staticClass:"m-adventure-content"},[i("task",{attrs:{id:t.id,info:t.data}})],1),t.isMiniProgram?i("PvxUserMiniprogram",{attrs:{id:t.achieve_id,name:"奇遇",type:"achievement"}}):t._e(),t.achieve_id&&!t.isMiniProgram?i("pvx-user",{attrs:{id:t.achieve_id,name:"奇遇",type:"achievement"}},[i("template",{slot:"serendipity"},[i("div",{staticClass:"m-adventure-serendipity"},[i("Serendipity",{attrs:{title:t.title}})],1)])],2):t._e()],1):t._e()},n=[],a=(e("14d9"),e("d3b7"),e("ac1f"),e("841c"),e("85e4")),r=e("8718"),o=e("11a3"),c=function(){var t=this,i=t._self._c;return t.task?i("div",{staticClass:"m-adventure-task"},[i("img",{staticClass:"u-prefix",attrs:{src:e("bb64")}}),i("img",{staticClass:"u-suffix",attrs:{src:e("bb64")}}),i("div",{staticClass:"u-content",attrs:{id:"task-box"}},[i("div",{staticClass:"u-item u-task-name"},[i("img",{attrs:{src:t.getImg(t.info)}}),i("div",{staticClass:"u-info-box"},[i("span",{staticClass:"u-title"},[t._v(t._s(t.info.szName))])])]),t._l(t.task,(function(e,s){return i("div",{key:s,staticClass:"u-item"},[i("img",{attrs:{src:t.imgUrl(e.imgurl)}}),i("div",{staticClass:"u-info-box u-desc-box"},[i("div",{staticClass:"u-title"},[t._v(t._s(e.szGoalMsg))]),i("div",{staticClass:"u-desc"},[t._v(t._s(t.getText(e.szDescribe)))]),i("div",{staticClass:"u-desc"},[t._v(t._s(t.getText(e.szFinishDescribe)))])])])}))],2),i("div",{staticClass:"u-btn"},[i("span",{class:t.isDisabled("task-box",1,t.isUpdate),on:{click:function(i){return t.crosswiseScrool(i,"task-box",1,600)}}},[i("i",{staticClass:"el-icon-arrow-left"})]),i("span",{class:t.isDisabled("task-box",-1,t.isUpdate),on:{click:function(i){return t.crosswiseScrool(i,"task-box",-1,600)}}},[t._v("继续 "),i("i",{staticClass:"el-icon-arrow-right"})])])]):t._e()},u=[],l=e("2909"),d=(e("99af"),e("4de4"),e("e9f5"),e("910d"),e("7d54"),e("6062"),e("1e70"),e("79a4"),e("c1a1"),e("8b00"),e("a4e7"),e("1e5a"),e("72c3"),e("3ca3"),e("466d"),e("5319"),e("159b"),e("ddb0"),e("ed08")),f=e("dbbc"),h={name:"task",props:["id","info"],inject:["__imgRoot"],components:{},data:function(){return{task:[],isUpdate:!1,school:"2"}},computed:{client:function(){return this.$store.state.client},camp:function(){return f["a"].tz().date()%2?1:2}},methods:{toSpecial:function(t){var i=t.szRewardType,e=t.szOpenRewardPath,s=t.szOpenRewardPath.split("\\").filter(Boolean).pop();return"school"==i&&(e="reward/open/".concat(s,"/school_").concat(this.school,"_open")),"camp"==i&&(e="reward/open/".concat(s,"/camp_").concat(this.camp,"_open")),this.imgUrl(e)},imgNameTga:function(t){return t.match(/(\S*)Adventure\/(\S*)\.tga/)[2]},imgUrl:function(t){return this.__imgRoot+"adventure/std/".concat(t,".png")},getImg:function(t){var i=t.szRewardType;if("school"===i||"camp"===i)return this.toSpecial(t);var e,s=(null===(e=t.szOpenRewardPath)||void 0===e?void 0:e.toLowerCase().match(/.*[\/,\\]adventure(.*?).tga/))||"",n="";return null!==s&&void 0!==s&&s[1]&&(n=null===s||void 0===s?void 0:s[1].replace(/\\/g,"/")),this.imgUrl(n)},getText:function(t){var i=Object(a["e"])(t),e="";return i.forEach((function(t){e+=t.text})),e},loadData:function(){var t=this;Object(r["b"])(this.id).then((function(i){var e=[];console.log(i.data),i.data.forEach((function(i){if(i.szFramePath){var s,n=null===(s=i.szFramePath)||void 0===s?void 0:s.replace(/\\/g,"/");console.log(n),i.imgurl=t.imgNameTga(n),e.push(i)}})),t.task=Object(l["a"])(new Set(e))}))},isDisabled:function(t,i){var e=document.getElementById(t);if(e)return 0==e.scrollLeft&&1==i||0!=e.scrollLeft&&e.scrollWidth<=e.scrollLeft+e.clientWidth&&-1==i?"u-disabled":""},crosswiseScrool:function(t,i,e,s){if(!Object(d["b"])()){t.preventDefault();var n=document.getElementById(i),a=n.scrollWidth;if((0!=n.scrollLeft||1!=e)&&!(a<=n.scrollLeft+n.clientWidth&&-1==e)){var r=(s||200)/100,o=0,c=this;u()}}function u(){o+=r,o<s?(1==e?n.scrollLeft-=r:n.scrollLeft+=r,setTimeout(u,1)):c.isUpdate=!c.isUpdate}}},filters:{},created:function(){},mounted:function(){this.loadData()}},v=h,p=e("2877"),m=Object(p["a"])(v,c,u,!1,null,null,null),_=m.exports,g=(e("b0c0"),function(){var t=this,i=t._self._c;return t.title?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-serendipity"},[i("div",{staticClass:"u-title"},[i("span",{staticClass:"u-label"},[i("i",{staticClass:"el-icon-present"}),t._v(" 触发记录 "),i("el-select",{staticClass:"u-server",attrs:{placeholder:"区服",size:"small"},on:{change:t.changeServer},model:{value:t.server,callback:function(i){t.server=i},expression:"server"}},t._l(t.servers,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),i("a",{staticClass:"u-more",attrs:{href:"https://j3cx.com/serendipity",target:"_blank"}},[t._v("查看更多 »")])]),t.list&&t.list.length>0?i("ul",{staticClass:"u-list"},[t._m(0),t._l(t.list,(function(e,s){return i("li",{key:s},[i("span",{staticClass:"u-date"},[t._v(t._s(t._f("showDate")(e.date_str)))]),i("span",{staticClass:"u-time"},[t._v(t._s(t._f("wikiDate")(e.dwTime)))]),i("span",{staticClass:"u-server"},[t._v(t._s(e.region)+"-"+t._s(e.server))]),i("span",{staticClass:"u-name"},[t._v(t._s(e.name||"匿名"))])])}))],2):i("el-alert",{staticClass:"u-alert",attrs:{title:"无记录",type:"info",center:"",closable:!1}})],1):t._e()}),b=[function(){var t=this,i=t._self._c;return i("li",{staticClass:"u-header"},[i("span",{staticClass:"u-date"},[t._v("日期")]),i("span",{staticClass:"u-time"},[t._v("激活时间")]),i("span",{staticClass:"u-server"},[t._v("服务器")]),i("span",{staticClass:"u-name"},[t._v("玩家")])])}],y=e("60d7"),k=e("41cb");function w(){return Object(k["a"])().get("/api/cms/user/my/info")}function C(t){var i="https://pull.j3cx.com/";return k["g"].get("/api/serendipity",{baseURL:i,params:t})}var x=e("8f09"),A=e("c9d2"),O={name:"serendipity",props:["title"],components:{},data:function(){return{servers:y,server:"长安城",list:[],loading:!1}},computed:{params:function(){return{server:this.server,serendipity:this.title,start:0,pageIndex:1,pageSize:10}}},methods:{loadSerendipity:function(){var t=this;this.loading=!0,C(this.params).then((function(i){t.list=i.data.data.data})).finally((function(){t.loading=!1}))},changeServer:function(){this.loadSerendipity()}},filters:{wikiDate:function(t){return Object(x["b"])(1e3*t)},showDate:function(t){return Object(x["a"])(t)}},mounted:function(){var t=this;A["a"].isLogin()?w().then((function(i){t.server=i.data.data.jx3_server||"长安城"})).then((function(){t.loadSerendipity()})):this.loadSerendipity()}},D=O,Y=(e("85da"),Object(p["a"])(D,g,b,!1,null,null,null)),S=Y.exports,$=e("9616"),M=e("2b88"),j={name:"adventureSingle",props:[],components:{task:_,Serendipity:S,PvxUser:o["a"],PvxUserMiniprogram:M["a"]},data:function(){return{type:"adventure",achieve_id:"",data:"",task:[],isPet:!0,loading:!1,search:""}},computed:{id:function(){return this.$route.params.id},title:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.szName}},watch:{id:{immediate:!0,handler:function(t){t&&this.getData()}}},methods:{getLink:a["g"],goBack:function(){this.$router.push({name:"list"})},getData:function(){var t=this;this.loading=!0,Object(r["a"])(this.id).then((function(i){t.isPet=!1,t.data=i.data})).finally((function(){t.loading=!1,Object($["b"])(t.type,t.id)})),Object(r["d"])(this.id).then((function(i){t.achieve_id=i.data.achievement_id}))},goSearch:function(){this.$router.push({name:"list",params:{search:this.search}})},isMiniProgram:function(){return Object(a["m"])()}},mounted:function(){}},P=j,T=(e("ab4d"),Object(p["a"])(P,s,n,!1,null,null,null));i["default"]=T.exports},"85da":function(t,i,e){"use strict";e("588c")},8718:function(t,i,e){"use strict";e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a})),e.d(i,"b",(function(){return r})),e.d(i,"d",(function(){return o})),e.d(i,"e",(function(){return c}));var s=e("41cb");e("65c2");function n(t){return Object(s["d"])().get("/serendipities",{params:t})}function a(t){return Object(s["d"])().get("/serendipity/".concat(t))}function r(t){return Object(s["d"])().get("/serendipity/".concat(t,"/task"))}function o(t){return Object(s["d"])().get("/serendipity/".concat(t,"/achievement"))}function c(){return Object(s["f"])().get("api/team/my-game-roles")}},"8f09":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"a",(function(){return r})),e.d(i,"c",(function(){return o}));var s=e("c1df"),n=e.n(s);function a(t){return n()(t).fromNow()}function r(t){return n()(t).format("YYYY-MM-DD")}function o(t){return n()(t).format("YYYY-MM-DD HH:mm:ss")}n.a.locale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY年MM月DD日",LLL:"YYYY年MM月DD日Ah点mm分",LLLL:"YYYY年MM月DD日ddddAh点mm分",l:"YYYY-M-D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,i){return 12===t&&(t=0),"凌晨"===i||"早上"===i||"上午"===i?t:"下午"===i||"晚上"===i?t+12:t>=11?t:t+12},meridiem:function(t,i,e){var s=100*t+i;return s<600?"凌晨":s<900?"早上":s<1130?"上午":s<1230?"中午":s<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(t,i){switch(i){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",ss:"%d秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})},a866:function(t,i,e){},ab4d:function(t,i,e){"use strict";e("1311")},bb64:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAFeCAYAAACFPT+zAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJqSURBVHgB7Z3dSisxFIX3zimHc1nhPMC5Pk/hI/kGfU1BRLwQQShaxJ/SmjgzTm3V8cJmFXdda4GYqfFrMsk02dk7qRlQi8XdJBlUybDAnMHAhC6hoUtoZsEbBV7ljK5ysvCNYnT3UK0cEEjYbUzAcMCMHlMSfNTbg46d0Y1i6EYxthKuoDDBq2xG18rGByRslB1UOb6tF994jD7qtZIVUClZAQzAXbSy30xPz0p/7c1Pm/bXRP+H8nI5lKds8Nx9PCppfmjr/1v/9s2c6+SneRr9/vX3aHRw8P/cQJrPZzd6luuJbEume1BCTThR0LhAmWYA7YGTS/ewmmfxrVF1m2rJJ1Wv8DPYjO42Kf4ntgxwAQMAd+AopJtj432jRreoS+h5JARmxSzVK755G346B59wtiJbc8Ab4PGNR/n1AgJ1DymA2heAUPQqE3YbAQX8smQv1wvvbOUzfHZSwtHDw+U/e2yu/vSvrtJDr9kn172eFk9jn14dn60Cm4bkya3k0oYndVlKH6nk7qXRm6gl9zQ2pG5nF5PYTwqjAS6ggNtIUQQCbiHCbqMhQMDvB+bwy30pvJMLfg/xVUaXMP4Oa3wJZQUQAPF+PVOjCCiggAIKiJLsZYTIrADGEhpdvE18wyd+iBGh8agw/noRHnFmAgq4HYytYzOePs03puCD5CkP3PbZ9fmkg+cXO+NDju6Rf58eVin5cLRc3vezpmRLy4Nds5v3te+WN7jpTYZO7m5QXU9PggdB4YHarIFiRgYybieh26KoY4TrhV+qCg/UkeA4KExaIuAAEn7tDp8lZXTuj1YC/nhgQ3sGkJ/e3G/NEdMAAAAASUVORK5CYII="},bede:function(t,i,e){"use strict";e("77a8")},dbbc:function(t,i,e){"use strict";var s=e("5a0c"),n=e.n(s),a=e("0ecf"),r=e.n(a),o=e("19537"),c=e.n(o),u=e("83dc"),l=e.n(u),d=e("5e77d"),f=e.n(d),h=e("e418"),v=e.n(h),p=e("4360");n.a.extend(r.a),n.a.extend(c.a),n.a.extend(f.a),n.a.extend(l.a),n.a.extend(v.a);var m=p["a"].state.timezone;n.a.tz.setDefault(m),i["a"]=n.a},e418:function(t,i,e){!function(i,e){t.exports=e()}(0,(function(){"use strict";return function(t,i,e){i.prototype.isBetween=function(t,i,s,n){var a=e(t),r=e(i),o="("===(n=n||"()")[0],c=")"===n[1];return(o?this.isAfter(a,s):!this.isBefore(a,s))&&(c?this.isBefore(r,s):!this.isAfter(r,s))||(o?this.isBefore(a,s):!this.isAfter(a,s))&&(c?this.isAfter(r,s):!this.isBefore(r,s))}}}))},ed08:function(t,i,e){"use strict";e.d(i,"a",(function(){return s})),e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a}));e("caad"),e("d3b7"),e("ac1f"),e("25f0"),e("2532"),e("466d");function s(t){if("[object Object]"===Object.prototype.toString.call(t)){for(var i in t)[void 0,null,""].includes(t[i])&&delete t[i];return t}return t}function n(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return null!==t}function a(t,i){return function(e,s){return e[t]===s[t]?e[i]-s[i]:e[t]-s[t]}}}}]);
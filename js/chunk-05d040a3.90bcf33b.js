(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05d040a3"],{"018f":function(t,i,e){"use strict";e("db78")},"1a1c":function(t,i,e){"use strict";var n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"p-pvx-habitus"},t._l(t.list,(function(e,n){return i("div",{key:n,staticClass:"u-item",style:{width:"calc(calc(100vw - 70px) / 4)"},on:{click:function(i){return t.$emit("toTab",e)}}},[i("div",{staticClass:"u-item_img"},[i("img",{attrs:{src:t.showImg(e)}})]),i("div",{staticClass:"u-item_type"},[t._v(t._s(t.showBodyTypeLabel(e.body_type)))])])})),0)},a=[],s=e("84c2"),c=e("65c2"),o=e("85e4"),l={props:{list:{type:Array,default:function(){return[]}},type:{type:String,default:"face"}},components:{},data:function(){return{}},created:function(){},mounted:function(){},methods:{getThumbnail:o["j"],showBodyTypeLabel:function(t){return s["a"][t]},showImg:function(t){var i,e=parseInt((document.body.clientWidth-70)/4);return this.getThumbnail((null===(i=t.images)||void 0===i?void 0:i[0])||c["__imgPath"]+"image/face/null2.png",[e,156])}}},r=l,u=(e("018f"),e("2877")),d=Object(u["a"])(r,n,a,!1,null,"f4bd209c",null);i["a"]=d.exports},"40e6":function(t,i,e){"use strict";var n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"p-face-routine",class:{"p-face-routine_one":t.isOne},style:{gap:t.gap},on:{scroll:t.handleScroll}},t._l(t.list,(function(n){return i("div",{key:n.id,staticClass:"u-item",style:{width:t.isOne?"calc(calc(100vw - 70px) / 3)":t.size},on:{click:function(i){return t.openNewFace(n.id)}}},[i("div",{staticClass:"u-item_img",style:{width:t.isOne?"100%":t.size,height:t.isOne?"calc(calc(100vw - 70px) / 3)":t.size}},[i("el-image",{staticClass:"u-pic",attrs:{src:t.showImg(n),fit:"cover"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{attrs:{src:e("b43d")}})])])],1),i("div",{staticClass:"u-item_tag"},[n.is_new_face?i("div",{staticClass:"u-tag_item green"}):i("div",{staticClass:"u-tag_item mint"}),n.is_unlimited?i("div",{staticClass:"u-tag_item new"}):t._e(),n.star?i("div",{staticClass:"u-tag_item purple"}):t._e()]),i("div",{staticClass:"u-item_name"},[t._v(t._s(n.title))]),i("div",{staticClass:"u-item_author"},[t._v(t._s(n.display_name||"匿名"))])])})),0)},a=[],s=(e("99af"),e("a9e3"),e("9911"),e("65c2")),c=e("85e4"),o=e("7720"),l={computed:{link:function(){return location.origin+"/".concat(this.type)}},components:{},props:{gap:{type:String,default:"0.889rem"},size:{type:String,default:"6.667rem"},list:{type:Array,default:function(){return[]}},total:{type:Number,default:0},isOne:{type:Boolean,default:!1},loadingList:{type:Boolean,default:!1},isFinish:{type:Boolean,default:!1},type:{type:String,default:"face"}},data:function(){return{}},created:function(){},mounted:function(){},methods:{openNewFace:function(t){Object(o["a"])("".concat(this.link,"/").concat(t))},getThumbnail:c["j"],showImg:function(t){var i,e=parseInt((document.body.clientWidth-64)/3);return this.getThumbnail((null===(i=t.images)||void 0===i?void 0:i[0])||s["__imgPath"]+"image/face/null2.png",this.isOne?this.getImgSize(e):this.getImgSize(this.size))},getImgSize:function(t){if("number"==typeof t)return t;if(t.indexOf("px")>-1)return Math.ceil(t.substring(0,t.length-2));if(t.indexOf("rem")>-1){var i=this.convertRemPx(t.substring(0,t.length-3),"px");return Math.ceil(i.substring(0,i.length-2))}},convertRemPx:function(t,i){var e=window.getComputedStyle(document.documentElement).fontSize;return"rem"===i?"".concat(t/parseFloat(e),"rem"):"px"===i?"".concat(t*parseFloat(e),"px"):void console.error("参数错误！")},getMore:function(){this.$emit("getMore")},handleScroll:function(t){console.log(this.loadingList,this.isFinish);var i=t.target;this.loadingList||this.isFinish||i.scrollHeight-i.scrollTop-60<i.clientHeight&&this.getMore()}}},r=l,u=(e("9f34"),e("2877")),d=Object(u["a"])(r,n,a,!1,null,"287f4659",null);i["a"]=d.exports},"447d":function(t,i,e){"use strict";e.d(i,"e",(function(){return s})),e.d(i,"c",(function(){return a})),e.d(i,"m",(function(){return c})),e.d(i,"a",(function(){return o})),e.d(i,"k",(function(){return l})),e.d(i,"j",(function(){return r})),e.d(i,"l",(function(){return u})),e.d(i,"i",(function(){return d})),e.d(i,"b",(function(){return p})),e.d(i,"f",(function(){return g})),e.d(i,"g",(function(){return m})),e.d(i,"d",(function(){return f})),e.d(i,"h",(function(){return b}));e("99af");var n=e("41cb");function a(t){return Object(n["c"])().get("/api/pvxbody",{params:t})}function s(t){return Object(n["c"])().get("/api/pvxbody/".concat(t))}function c(t){return Object(n["c"])().put("/api/pvxbody/".concat(t,"/manager/set/star"))}function o(t){return Object(n["c"])().put("/api/pvxbody/".concat(t,"/manager/cancel/star"))}function l(t,i){return i?Object(n["c"])().put("/api/pvxbody/".concat(t,"/manager/online")):Object(n["c"])().put("/api/pvxbody/".concat(t,"/online"))}function r(t,i){return i?Object(n["c"])().put("/api/pvxbody/".concat(t,"/manager/offline")):Object(n["c"])().put("/api/pvxbody/".concat(t,"/offline"))}function u(t){var i=t.postType,e=t.PostId,a=t.priceType,s=t.priceCount,c=t.payUserId,o=t.accessUserId;return Object(n["e"])({mute:!0}).post("/api/buy-licence/article/".concat(i,"/").concat(e,"/pay/").concat(a,"/").concat(s,"/from/").concat(c,"/to/").concat(o))}function d(t){return Object(n["e"])().get("/api/buy-licence/result/".concat(t))}function p(t,i){return Object(n["c"])().get("/api/charge_attachment/pvxbody/".concat(t),{params:i})}function f(t,i){return Object(n["c"])().get("/api/charge_attachment/download/pvxbody/".concat(t,"/").concat(i))}function m(t){return Object(n["c"])().get("/api/pvxbody/random-one/with-many-face",{params:t})}function g(t){return Object(n["c"])().get("/api/pvxbody/random",{params:t})}function b(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3?arguments[3]:void 0,s={client:i,type:t,source_type:"body"};return e&&(s.per=e),a&&(s.source_ids=a),Object(n["a"])({mute:!0}).get("/api/cms/news/v2",{params:s})}},"63f0":function(t,i,e){},"8d95":function(t,i,e){"use strict";e("b24f")},"9f34":function(t,i,e){"use strict";e("63f0")},b24f:function(t,i,e){},b43d:function(t,i,e){t.exports=e.p+"img/body_null.bb04768a.png"},c919:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"m-body-list_mobile"},[i("PvxSuspension",{attrs:{isType:"list",miniprogram:{app:"体型",filter_name:"pvxbody"}}}),i("div",{staticClass:"m-body-list_mobile__tabs"},t._l(t.tabsData,(function(e,n){return i("div",{key:n,staticClass:"u-tab_item",class:{"is-active":t.active==e.value},on:{click:function(i){return t.setActive(e.value)}}},[t._v(" "+t._s(e.label)+" "),i("div",{staticClass:"u-tab_item__line"})])})),0),-1==t.active?i("div",{staticClass:"u-content-all"},[t._l(t.allList,(function(e,n){return i("div",{key:n},[i("div",{staticClass:"u-card-title"},[t._v(t._s(e.label))]),i("div",{staticClass:"u-list"},[i("routine",{attrs:{list:e.list,type:"body"}})],1)])})),i("div",{staticClass:"u-card-title"},[t._v("体型特辑")]),i("div",{staticClass:"u-list"},[i("habitus",{attrs:{list:t.bodyList,type:"body"},on:{toTab:t.toTab}})],1)],2):i("div",{staticClass:"u-content"},[i("div",{staticClass:"u-list",attrs:{id:"oneList"}},[t.listShow?i("routine",{attrs:{gap:"0.667rem",size:"5.778rem",isOne:!0,list:t.list,total:t.total,loadingList:t.loadingList,type:"body"},on:{getMore:t.getMore}}):t._e()],1)])],1)},a=[],s=e("5530"),c=(e("7db0"),e("14d9"),e("e9f5"),e("f665"),e("7d54"),e("a9e3"),e("d3b7"),e("159b"),e("60b8")),o=e("40e6"),l=e("1a1c"),r=e("2ef0"),u=e("447d"),d={components:{routine:o["a"],habitus:l["a"],PvxSuspension:c["a"]},data:function(){return{loading:!1,active:-1,activeName:"",tabsData:[{label:"全部",value:-1,client:["std","origin"]},{label:"成男",value:1,client:["std","origin"]},{label:"成女",value:2,client:["std","origin"]},{label:"正太",value:5,client:["std"]},{label:"萝莉",value:6,client:["std","origin"]}],allList:[{label:"最新推荐",list:[],params:{star:-1,pageIndex:1,pageSize:12,filter_empty_images:!0}},{label:"写实派与写意派",list:[],params:{pageIndex:1,pageSize:12,filter_empty_images:!0,star:0,is_unlimited:0}},{label:"新建角色时推荐",list:[],params:{is_unlimited:1,pageIndex:1,pageSize:12,filter_empty_images:!0,star:0}}],list:[],listShow:!1,queryParams:{pageIndex:1,pageSize:15},total:0,bodyList:[],loadingList:!1,isFinish:!1}},computed:{client:function(){return this.$store.state.client}},watch:{active:function(t){-1!=t&&(this.queryParams.pageIndex=1,this.list=[],this.listShow=!1,this.loadData())}},mounted:function(){this.loadData()},methods:{toTab:function(t){this.setActive(t.body_type)},setActive:function(t){var i=this.tabsData.find((function(i){return i.value==t}));this.activeName=i.label,this.active=t,this.isFinish=!1},getMore:function(){this.queryParams.pageIndex++,this.loadData()},loadData:function(){var t=this;if(this.loading=!0,-1===this.active){this.allList.forEach((function(i,e){t.loadList(Object(s["a"])({client:t.client},i.params),e)}));var i=[1,2,5,6];i.forEach((function(i,e){t.loadList({client:t.client,body_type:i,pageIndex:1,pageSize:1,filter_empty_images:!0},e,!0)}))}else this.loadList(Object(s["a"])(Object(s["a"])({},this.queryParams),{},{body_type:this.active}),this.active)},loadList:function(t,i){var e=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.loadingList=!0,this.isFinish||Object(u["c"])(t).then((function(a){var s=a.data.data,c=s.list,o=s.page,l=-1!=e.active?Object(r["concat"])(e.list,c||[]):c;n?e.bodyList.push(l[0]):-1!==e.active?((!c||c.length<t.pageSize)&&(e.isFinish=!0),e.list=l||[],e.queryParams.pageIndex=o.index||1,e.total=Number(o.total)||0):e.allList[i].list=l||[]})).finally((function(){e.loadingList=!1,e.loading=!1,e.listShow=!0}))}}},p=d,f=(e("8d95"),e("2877")),m=Object(f["a"])(p,n,a,!1,null,null,null);i["default"]=m.exports},db78:function(t,i,e){}}]);
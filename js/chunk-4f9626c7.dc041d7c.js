(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f9626c7"],{"0679":function(e,a,t){},"0eb6":function(e,a,t){"use strict";var c=t("23e7"),s=t("d066"),n=t("2a07"),i=t("d039"),o=t("7c73"),l=t("5c6c"),r=t("9bf2").f,d=t("cb2d"),u=t("edd0"),_=t("1a2d"),f=t("19aa"),v=t("825a"),p=t("aa1f"),m=t("e391"),b=t("cf98"),y=t("0d26"),h=t("69f3"),g=t("83ab"),D=t("c430"),w="DOMException",C="DATA_CLONE_ERR",k=s("Error"),B=s(w)||function(){try{var e=s("MessageChannel")||n("worker_threads").MessageChannel;(new e).port1.postMessage(new WeakMap)}catch(a){if(a.name===C&&25===a.code)return a.constructor}}(),x=B&&B.prototype,E=k.prototype,T=h.set,I=h.getterFor(w),R="stack"in new k(w),N=function(e){return _(b,e)&&b[e].m?b[e].c:0},O=function(){f(this,S);var e=arguments.length,a=m(e<1?void 0:arguments[0]),t=m(e<2?void 0:arguments[1],"Error"),c=N(t);if(T(this,{type:w,name:t,message:a,code:c}),g||(this.name=t,this.message=a,this.code=c),R){var s=new k(a);s.name=w,r(this,"stack",l(1,y(s.stack,1)))}},S=O.prototype=o(E),A=function(e){return{enumerable:!0,configurable:!0,get:e}},F=function(e){return A((function(){return I(this)[e]}))};g&&(u(S,"code",F("code")),u(S,"message",F("message")),u(S,"name",F("name"))),r(S,"constructor",l(1,O));var M=i((function(){return!(new B instanceof k)})),j=M||i((function(){return E.toString!==p||"2: 1"!==String(new B(1,2))})),V=M||i((function(){return 25!==new B(1,"DataCloneError").code})),P=M||25!==B[C]||25!==x[C],L=D?j||V||P:M;c({global:!0,constructor:!0,forced:L},{DOMException:L?O:B});var U=s(w),$=U.prototype;for(var Y in j&&(D||B===U)&&d($,"toString",p),V&&g&&B===U&&u($,"code",A((function(){return N(v(this).name)}))),b)if(_(b,Y)){var X=b[Y],H=X.s,W=l(6,X.c);_(U,H)||r(U,H,W),_($,H)||r($,H,W)}},"2a07":function(e,a,t){"use strict";var c=t("cfe9"),s=t("9adc");e.exports=function(e){if(s){try{return c.process.getBuiltinModule(e)}catch(a){}try{return Function('return require("'+e+'")')()}catch(a){}}}},"313d":function(e,a,t){"use strict";var c=t("23e7"),s=t("cfe9"),n=t("d066"),i=t("e330"),o=t("c65b"),l=t("d039"),r=t("577e"),d=t("d6d6"),u=t("b917").i2c,_=n("btoa"),f=i("".charAt),v=i("".charCodeAt),p=!!_&&!l((function(){return"aGk="!==_("hi")})),m=p&&!l((function(){_()})),b=p&&l((function(){return"bnVsbA=="!==_(null)})),y=p&&1!==_.length;c({global:!0,bind:!0,enumerable:!0,forced:!p||m||b||y},{btoa:function(e){if(d(arguments.length,1),p)return o(_,s,r(e));var a,t,c=r(e),i="",l=0,m=u;while(f(c,l)||(m="=",l%1)){if(t=v(c,l+=3/4),t>255)throw new(n("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");a=a<<8|t,i+=f(m,63&a>>8-l%1*8)}return i}})},"4cf9":function(e,a,t){},6203:function(e,a,t){},"7af2":function(e,a,t){"use strict";t("6203")},"7f66":function(e,a,t){"use strict";t.r(a);var c=function(){var e=this,a=e._self._c;return a("div",{staticClass:"c-facedat"},[e.decalDb&&e.facedata.bNewFace?a("NewFace",{attrs:{facedata:e.facedata,body_type:e.body_type,cleandata:e.cleandata,clean:e.clean,lock:e.lock,decalDb:e.decalDb}}):e._e(),e.decalDb&&!e.facedata.bNewFace?a("OldFace",{attrs:{facedata:e.facedata,body_type:e.body_type,cleandata:e.cleandata,clean:e.clean,lock:e.lock,decalDb:e.decalDb}}):e._e()],1)},s=[],n=(t("b64b"),t("2ef0")),i=t.n(n),o=(t("65c2"),t("0a4e")),l=t("dff1"),r=t("896e"),d=(t("b680"),function(){var e=this,a=e._self._c;return a("div",{staticClass:"p-new-face_data"},[a("div",{staticClass:"m-face-list_mobile__tabs"},e._l(e.tablist,(function(t,c){return a("div",{key:c,staticClass:"u-tab_item",class:{"is-active":e.active==t.value},on:{click:function(a){e.active=t.value}}},[e._v(" "+e._s(t.label)+" ")])})),0),a("div",{staticClass:"c-facedat-preivew"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"contour"===e.active,expression:"active === 'contour'"}],staticClass:"c-facedat-group"},e._l(Object.keys(e.new_face_dict["轮廓"]),(function(t,c){return a("div",{key:c,staticClass:"c-facedat-group__item"},[a("div",{staticClass:"u-type-title"},[e._v(e._s(t))]),e._l(Object.keys(e.new_face_dict["轮廓"][t]),(function(c,s){return a("ul",{key:s,staticClass:"u-list u-new"},["root"===c?e._l(e.new_face_dict["轮廓"][t].root,(function(t,c){return a("li",{key:t+c},[a("label",{on:{click:function(a){return e.clog(e.facedata["tBone"][t.BoneType])}}},[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e(),"root"!==c?a("li",{staticClass:"u-sub-title"},[e._v(e._s(c))]):e._e(),"root"!==c?e._l(e.new_face_dict["轮廓"][t][c],(function(t,c){return a("li",{key:c},[a("label",[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e()],2)}))],2)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"eyebrow"===e.active,expression:"active === 'eyebrow'"}],staticClass:"c-facedat-group"},e._l(Object.keys(e.new_face_dict["眉毛"]),(function(t,c){return a("div",{key:c,staticClass:"c-facedat-group__item"},[a("div",{staticClass:"u-type-title"},[e._v(e._s(t))]),e._l(Object.keys(e.new_face_dict["眉毛"][t]),(function(c,s){return a("ul",{key:s,staticClass:"u-list u-new"},["root"===c?e._l(e.new_face_dict["眉毛"][t].root,(function(t,c){return a("li",{key:t+c},[a("label",{on:{click:function(a){return e.clog(e.facedata["tBone"][t.BoneType])}}},[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e(),"root"!==c?a("li",{staticClass:"u-sub-title"},[e._v(e._s(c))]):e._e(),"root"!==c?e._l(e.new_face_dict["眉毛"][t][c],(function(t,c){return a("li",{key:c},[a("label",[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e()],2)}))],2)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"eye"===e.active,expression:"active === 'eye'"}],staticClass:"c-facedat-group"},e._l(Object.keys(e.new_face_dict["眼部"]),(function(t,c){return a("div",{key:c,staticClass:"c-facedat-group__item"},[a("div",{staticClass:"u-type-title"},[e._v(e._s(t))]),e._l(Object.keys(e.new_face_dict["眼部"][t]),(function(c,s){return a("ul",{key:s,staticClass:"u-list u-new"},["root"===c?e._l(e.new_face_dict["眼部"][t].root,(function(t,c){return a("li",{key:t+c},[a("label",{on:{click:function(a){return e.clog(e.facedata["tBone"][t.BoneType])}}},[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e(),"root"!==c?a("li",{staticClass:"u-sub-title"},[e._v(e._s(c))]):e._e(),"root"!==c?e._l(e.new_face_dict["眼部"][t][c],(function(t,c){return a("li",{key:c},[a("label",[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e()],2)}))],2)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"nose"===e.active,expression:"active === 'nose'"}],staticClass:"c-facedat-group"},e._l(Object.keys(e.new_face_dict["鼻子"]),(function(t,c){return a("div",{key:c,staticClass:"c-facedat-group__item"},[a("div",{staticClass:"u-type-title"},[e._v(e._s(t))]),e._l(Object.keys(e.new_face_dict["鼻子"][t]),(function(c,s){return a("ul",{key:s,staticClass:"u-list u-new"},["root"===c?e._l(e.new_face_dict["鼻子"][t].root,(function(t,c){return a("li",{key:t+c},[a("label",{on:{click:function(a){return e.clog(e.facedata["tBone"][t.BoneType])}}},[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e(),"root"!==c?a("li",{staticClass:"u-sub-title"},[e._v(e._s(c))]):e._e(),"root"!==c?e._l(e.new_face_dict["鼻子"][t][c],(function(t,c){return a("li",{key:c},[a("label",[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e()],2)}))],2)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"mouth"===e.active,expression:"active === 'mouth'"}],staticClass:"c-facedat-group"},e._l(Object.keys(e.new_face_dict["嘴部"]),(function(t,c){return a("div",{key:c,staticClass:"c-facedat-group__item"},[a("div",{staticClass:"u-type-title"},[e._v(e._s(t))]),e._l(Object.keys(e.new_face_dict["嘴部"][t]),(function(c,s){return a("ul",{key:s,staticClass:"u-list u-new"},["root"===c?e._l(e.new_face_dict["嘴部"][t].root,(function(t,c){return a("li",{key:t+c},[a("label",{on:{click:function(a){return e.clog(e.facedata["tBone"][t.BoneType])}}},[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e(),"root"!==c?a("li",{staticClass:"u-sub-title"},[e._v(e._s(c))]):e._e(),"root"!==c?e._l(e.new_face_dict["嘴部"][t][c],(function(t,c){return a("li",{key:c},[a("label",[e._v(e._s(t.BoneName))]),a("span",[e._v(e._s(e.facedata["tBone"][t.BoneType]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:-128,max:128,value:e.facedata["tBone"][t.BoneType]}}):a("el-slider",{staticClass:"u-range",attrs:{min:-128,max:128,disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})):e._e()],2)}))],2)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"decals"===e.active,expression:"active === 'decals'"}],staticClass:"c-facedat-group",attrs:{id:"decals"}},[e._l(Object.keys(e.new_decal_group["妆容"]),(function(t,c){return a("div",{key:c,staticClass:"c-facedat-group__item"},[a("div",{staticClass:"u-type-title"},[e._v(e._s(t))]),e._l(e.new_decal_group["妆容"][t],(function(t,c){return a("div",{key:c,staticClass:"u-decals"},[e.facedata.tDecal[t.DecalsType].bUse?a("div",{staticClass:"u-decals-box"},[a("div",{staticClass:"u-price"},[a("i",{staticClass:"el-icon-coin"}),e._v(" "+e._s(e.decalDb.getDecalPrice(t.DecalsType,e.facedata.tDecal[t.DecalsType]["nShowID"],!0))+" 通宝 ")]),a("div",{staticClass:"u-title"},[a("img",{staticClass:"u-pic",attrs:{src:e.decalDb.getDecalIcon(t.DecalsType,e.facedata.tDecal[t.DecalsType]["nShowID"],!0)}}),e._v(" "+e._s(e.decalDb.getDecalName(t.DecalsType,e.facedata.tDecal[t.DecalsType]["nShowID"],!0))+" "),a("span",{staticClass:"u-dname"},[e._v(" ("+e._s(e.facedata.tDecal[t.DecalsType].nColorID)+")")])]),a("div",{staticClass:"u-decals-params-box"},[a("div",{staticClass:"u-decals-params"},[a("span",[e._v(e._s(t.Name1))]),a("span",[e._v(e._s(e.facedata.tDecal[t.DecalsType].fValue1.toFixed(2)))])]),t.bValueXY?e._e():a("div",{staticClass:"u-decals-params"},[t.bShowScroll2?[a("span",[e._v(e._s(t.Name2))]),a("span",[e._v(e._s(e.facedata.tDecal[t.DecalsType].fValue2.toFixed(2)))])]:e._e()],2),t.bValueXY?e._e():a("div",{staticClass:"u-decals-params"},[t.bShowScroll3?[a("span",[e._v(e._s(t.Name3))]),a("span",[e._v(e._s(e.facedata.tDecal[t.DecalsType].fValue3.toFixed(2)))])]:e._e()],2),t.bValueXY?a("div",{staticClass:"u-decals-params"},[a("span",[e._v("X坐标")]),a("span",[e._v(e._s(e.facedata.tDecal[t.DecalsType].fValue3.toFixed(2)))])]):e._e(),t.bValueXY?a("div",{staticClass:"u-decals-params"},[a("span",[e._v("Y坐标")]),a("span",[e._v(e._s(e.facedata.tDecal[t.DecalsType].fValue3.toFixed(2)))])]):e._e()])]):e._e()])}))],2)})),a("div",{staticClass:"m-price-all"},[a("span",{staticClass:"u-title"},[e._v("总计：")]),a("span",{staticClass:"u-total"},[a("i",{staticClass:"el-icon-coin"}),e._v(" "),a("b",[e._v(e._s(e.decalDb.getTotalPrice(e.facedata,!0)))]),e._v(" 通宝")])])],2)])])}),u=[],f=t("8516"),v=t("a0ec"),p=t("02bb"),m=t("7ddb"),b={name:"NewFace",props:["facedata","lock","decalDb","body_type","clean"],components:{Slider:f["a"]},data:function(){return{tab_type:"card",active:"contour",tablist:[{label:"轮廓",value:"contour"},{label:"眉毛",value:"eyebrow"},{label:"眼部",value:"eye"},{label:"鼻子",value:"nose"},{label:"嘴部",value:"mouth"},{label:"妆容",value:"decals"}],subActive:{mouth:"整体",eye:"整体",nose:"整体",decals:"底妆",contour:"额头",eyebrow:"整体"},new_face_dict:v,new_decal_group:p,new_decal_type:m}},mounted:function(){console.log(this.decalDb)},computed:{cleandata:function(){if(this.clean&&this.facedata){var e=_.cloneDeep(this.facedata);for(var a in e.nDecorationID=0,e.tDecal){var t=this.decalDb.getDecalIsFree(a,e.tDecal[a]["nShowID"],!0);console.log(t),t||(e.tDecal[a]["nShowID"]=decal_default[a]["nShowID"])}return e}return this.facedata}},methods:{}},y=b,h=t("2877"),g=Object(h["a"])(y,d,u,!1,null,null,null),D=g.exports,w=function(){var e=this,a=e._self._c;return a("div",{staticClass:"p-old-face_data"},[a("div",{staticClass:"m-face-list_mobile__tabs"},e._l(e.tablist,(function(t,c){return a("div",{key:c,staticClass:"u-tab_item",class:{"is-active":e.active==t.value},on:{click:function(a){e.active=t.value}}},[e._v(" "+e._s(t.label)+" ")])})),0),a("div",{staticClass:"c-facedat-preivew"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"eye"===e.active,expression:"active === 'eye'"}],staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-list"},e._l(e.group["eye"],(function(t,c){return a("li",{key:t+c},[a("label",[e._v(e._s(e.dict[t]["desc"]))]),a("span",[e._v(e._s(e.facedata["tBone"][t]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],value:e.facedata["tBone"][t]}}):a("el-slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"mouth"===e.active,expression:"active === 'mouth'"}],staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-list"},e._l(e.group["mouth"],(function(t,c){return a("li",{key:t+c},[a("label",[e._v(e._s(e.dict[t]["desc"]))]),a("span",[e._v(e._s(e.facedata["tBone"][t]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],value:e.facedata["tBone"][t]}}):a("el-slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"nose"===e.active,expression:"active === 'nose'"}],staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-list"},e._l(e.group["nose"],(function(t,c){return a("li",{key:t+c},[a("label",[e._v(e._s(e.dict[t]["desc"]))]),a("span",[e._v(e._s(e.facedata["tBone"][t]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],value:e.facedata["tBone"][t]}}):a("el-slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"face"===e.active,expression:"active === 'face'"}],staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-list"},e._l(e.group["face"],(function(t,c){return a("li",{key:t+c},[a("label",[e._v(e._s(e.dict[t]["desc"]))]),a("span",[e._v(e._s(e.facedata["tBone"][t]))]),e.lock?a("slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],value:e.facedata["tBone"][t]}}):a("el-slider",{staticClass:"u-range",attrs:{min:e.bone_range[e.body_type][e.dict[t]["type"]]["min"],max:e.bone_range[e.body_type][e.dict[t]["type"]]["max"],disabled:e.lock},model:{value:e.facedata["tBone"][t],callback:function(a){e.$set(e.facedata["tBone"],t,a)},expression:"facedata['tBone'][key]"}})],1)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"decals"===e.active,expression:"active === 'decals'"}],staticClass:"m-facedat-decals",attrs:{id:"newDecals"}},[e._l(e.group["decal"],(function(t,c){return a("div",{key:t+c,staticClass:"c-facedat-group"},[e.cleandata["tDecal"][t]?[a("div",{staticClass:"u-decals"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.clean||e.checkdecal_prop(t),expression:"!clean || checkdecal_prop(key)"}],staticClass:"u-decals-box"},[a("div",{staticClass:"u-top-box"},[e.decalDb.getDecalPrice(t,e.cleandata["tDecal"][t]["nShowID"])?a("div",{staticClass:"u-price"},[a("i",{staticClass:"el-icon-coin"}),e._v(" "+e._s(e.decalDb.getDecalPrice(t,e.cleandata["tDecal"][t]["nShowID"]))+" 通宝 ")]):e._e(),e.decalDb.getDecalIsFree(t,e.cleandata["tDecal"][t]["nShowID"])?a("div",{staticClass:"u-free"},[a("i",{staticClass:"el-icon-success"}),e._v(" 新建角色可用 ")]):e._e()]),a("div",{staticClass:"u-title-old"},["右瞳"===e.dict[t]["desc"]?[e._v("左瞳")]:"左瞳"===e.dict[t]["desc"]?[e._v("右瞳")]:[e._v(e._s(e.dict[t]["desc"]))]],2),a("div",{staticClass:"u-decals-params-box"},[a("div",{staticClass:"u-decals-params"},[a("img",{staticClass:"u-pic",attrs:{src:e.decalDb.getDecalIcon(t,e.cleandata["tDecal"][t]["nShowID"])}}),e._v(e._s(e.decalDb.getDecalName(t,e.cleandata["tDecal"][t]["nShowID"]))+" ")]),e.decalDb.getDecalIsFlip(t,e.cleandata["tDecal"][t]["nShowID"])?a("div",{staticClass:"u-decals-params u-dflip"},[e._v(" (翻转) ")]):e._e(),a("div",{staticClass:"u-decals-params u-dcolor"},[e._v(" (颜色:"+e._s(e.cleandata["tDecal"][t]["nColorID"])+") ")])])])])]:e._e()],2)})),a("div",{staticClass:"c-facedat-group"},[a("ul",{staticClass:"u-decals"},[a("li",[a("div",{staticClass:"u-title"},[e._v("装饰物")]),a("span",{staticClass:"u-dname"},[a("img",{staticClass:"u-pic",attrs:{src:e.decalDb.getDecorationIcon(e.cleandata["nDecorationID"])}}),e._v(e._s(e.decalDb.getDecorationName(e.cleandata["nDecorationID"])))]),a("span",{staticClass:"u-dname"}),a("span",{staticClass:"u-dname"}),e.decalDb.showDecorationPrice(e.cleandata["nDecorationID"])?a("span",{staticClass:"u-price"},[a("i",{staticClass:"el-icon-coin"}),e._v(" "+e._s(e.decalDb.showDecorationPrice(e.cleandata["nDecorationID"]))+" 通宝 ")]):e._e()])])]),a("div",{staticClass:"m-price-all"},[a("span",{staticClass:"u-title"},[e._v("总计：")]),a("span",{staticClass:"u-total"},[a("i",{staticClass:"el-icon-coin"}),e._v(" "),a("b",[e._v(e._s(e.decalDb.getTotalPrice(e.facedata)))]),e._v(" 通宝")])])],2)])])},C=[],k=(t("caad"),t("2532"),t("1c81")),B=t("a009"),x=t("b9cd"),E=t("7135"),T={name:"Jx3boxFacedatOldFace",props:["facedata","lock","decalDb","body_type","clean"],components:{Slider:f["a"]},data:function(){return{tab_type:"",active:"eye",tablist:[{label:"眼部轮廓",value:"eye"},{label:"嘴部轮廓",value:"mouth"},{label:"鼻子轮廓",value:"nose"},{label:"脸部轮廓",value:"face"},{label:"贴花",value:"decals"}],subActive:{mouth:"整体",eye:"整体",nose:"整体",decals:"底妆",contour:"额头",eyebrow:"整体"},group:k,dict:B,bone_range:E}},computed:{cleandata:function(){if(this.clean&&this.facedata){var e=_.cloneDeep(this.facedata);for(var a in e.nDecorationID=0,e.tDecal){var t=this.decalDb.getDecalIsFree(a,e.tDecal[a]["nShowID"]);console.log(t),t||(e.tDecal[a]["nShowID"]=l[a]["nShowID"])}return e}return this.facedata}},mounted:function(){console.log(E[this.body_type])},methods:{checkdecal_prop:function(e){return x.origin.includes(e)}}},I=T,R=(t("7af2"),Object(h["a"])(I,w,C,!1,null,null,null)),N=R.exports,O={name:"Facedat",props:["tab_type"],data:function(){return{lock:!0,active:"eye",subActive:{mouth:"整体",eye:"整体",nose:"整体",decals:"底妆",contour:"额头",eyebrow:"整体"},body_type:"",facedata:"",visible:!1,clean:!1,version:"std",decalDb:null,decalMap:"",decorationMap:"",totalPrice:""}},components:{NewFace:D,OldFace:N},computed:{cleandata:function(){if(this.clean&&this.facedata){var e=i.a.cloneDeep(this.facedata);for(var a in e.nDecorationID=0,e.tDecal){var t=this.decalDb.getDecalIsFree(a,e.tDecal[a]["nShowID"]);t||(e.tDecal[a]["nShowID"]=l[a]["nShowID"])}return e}return this.facedata},client:function(){var e,a=null===(e=this.facedata)||void 0===e?void 0:e.nMajorVersion;return 1!=a&&a?"origin":"std"}},watch:{},methods:{render:function(){var e=JSON.parse(sessionStorage.getItem("faceData"));if(console.log(this.client),this.decalDb=new r["a"](this.client,e.bNewFace),!e)return this.body_type="",void(this.facedata="");try{var a=e.object;this.body_type=a.status?a.misc[0]["value"]:a.nRoleType,this.decalDb.setBodyType(this.body_type),this.facedata=a.status?Object(o["a"])(a):a,this.facedata.bNewFace||(this.totalPrice=this.decalDb.getTotalPrice(this.cleandata))}catch(t){this.facedata="",console.log(t),this.$notify.error({title:"错误",message:"脸型数据无法解析"})}}},mounted:function(){this.render(),console.log(navigator.userAgent.toLowerCase())}},S=O,A=(t("e1ec"),Object(h["a"])(S,c,s,!1,null,null,null));a["default"]=A.exports},8516:function(e,a,t){"use strict";var c=function(){var e=this,a=e._self._c;return a("div",{staticClass:"slider-container"},[a("div",{ref:"slider",staticClass:"slider-runway",style:e.bgStyle},[a("div",{staticClass:"slide-bar",style:e.sliderStyle})])])},s=[],n=(t("99af"),t("a9e3"),t("313d"),t("0eb6"),t("b7ef"),t("8bd4"),{data:function(){return{width:0,height:0}},computed:{center:function(){return(this.max+this.min)/2},bgStyle:function(){var e=this.width,a=this.height,t=.5*e-.4*a-.5*a,c=t+.4*a,s='<svg width="'.concat(e,'" height="').concat(a,'" viewBox="0 0 ').concat(e," ").concat(a,'" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <rect x="0" width="').concat(t,'" height="').concat(a,'" rx="').concat(a/2,'" fill="#E8E8E8"/>\n          <rect x="').concat(c,'" width="').concat(a,'" height="').concat(a,'" rx="').concat(a/2,'" fill="#E8E8E8"/>\n          <rect x="').concat(e-t,'" width="').concat(t,'" height="').concat(a,'" rx="').concat(a/2,'" fill="#E8E8E8"/>\n      </svg>');return"background:url('data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(s))),"')")},sliderStyle:function(){var e=this.height;if(Math.abs(this.center-this.value)<1)return"width:  ".concat(e,"px !important; left: calc(50% - ").concat(.5*e,"px) !important;background: #6B52FF;border-radius: 10px;");if(this.center-this.value<0){var a=(this.value-this.center)/(this.max-this.min);return"width:  calc(".concat(100*a,"% - ").concat(.4*e+.5*e,"px) !important; left: calc(50% + ").concat(.4*e+.5*e,"px) !important;background: linear-gradient(89.73deg, #C2DAFF 0.23%, rgba(107, 82, 255, 0.1) 0.24%, #6B52FF 100%);border-radius: 10px;")}if(this.center-this.value>0){var t=(this.center-this.value)/(this.max-this.min);return"width: calc(".concat(100*t,"% - ").concat(.4*e+.5*e,"px) !important; left: ").concat(50-100*t,"% !important;background: linear-gradient(89.73deg, #6B52FF 0.23%, rgba(107, 82, 255, 0.1) 100%);border-radius: 10px;")}return""}},props:{min:{default:0,type:Number},max:{default:24,type:Number},value:{default:0}},mounted:function(){var e=this,a=new ResizeObserver((function(a){var t=a[0].contentRect.width,c=a[0].contentRect.height;e.width=t,e.height=c}));a.observe(this.$refs.slider)},updated:function(){},methods:{},watch:{value:function(e){this.currentValue=e}}}),i=n,o=(t("f146"),t("2877")),l=Object(o["a"])(i,c,s,!1,null,null,null);a["a"]=l.exports},"8bd4":function(e,a,t){"use strict";var c=t("d066"),s=t("d44e"),n="DOMException";s(c(n),n)},aa1f:function(e,a,t){"use strict";var c=t("83ab"),s=t("d039"),n=t("825a"),i=t("e391"),o=Error.prototype.toString,l=s((function(){if(c){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==o.call(e))return!0}return"2: 1"!==o.call({message:1,name:2})||"Error"!==o.call({})}));e.exports=l?function(){var e=n(this),a=i(e.name,"Error"),t=i(e.message);return a?t?a+": "+t:a:t}:o},b7ef:function(e,a,t){"use strict";var c=t("23e7"),s=t("cfe9"),n=t("d066"),i=t("5c6c"),o=t("9bf2").f,l=t("1a2d"),r=t("19aa"),d=t("7156"),u=t("e391"),_=t("cf98"),f=t("0d26"),v=t("83ab"),p=t("c430"),m="DOMException",b=n("Error"),y=n(m),h=function(){r(this,g);var e=arguments.length,a=u(e<1?void 0:arguments[0]),t=u(e<2?void 0:arguments[1],"Error"),c=new y(a,t),s=new b(a);return s.name=m,o(c,"stack",i(1,f(s.stack,1))),d(c,this,h),c},g=h.prototype=y.prototype,D="stack"in new b(m),w="stack"in new y(1,2),C=y&&v&&Object.getOwnPropertyDescriptor(s,m),k=!!C&&!(C.writable&&C.configurable),B=D&&!k&&!w;c({global:!0,constructor:!0,forced:p||B},{DOMException:B?h:y});var x=n(m),E=x.prototype;if(E.constructor!==x)for(var T in p||o(E,"constructor",i(1,x)),_)if(l(_,T)){var I=_[T],R=I.s;l(x,R)||o(x,R,i(6,I.c))}},b917:function(e,a,t){"use strict";var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=c+"+/",n=c+"-_",i=function(e){for(var a={},t=0;t<64;t++)a[e.charAt(t)]=t;return a};e.exports={i2c:s,c2i:i(s),i2cUrl:n,c2iUrl:i(n)}},cf98:function(e,a,t){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},e1ec:function(e,a,t){"use strict";t("0679")},f146:function(e,a,t){"use strict";t("4cf9")}}]);